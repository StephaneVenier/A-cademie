<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-Cad√©mie ‚Äî Comment perdre du poids sans r√©gime : la m√©thode 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>
<body>
  <div class="page">
    <header class="acad-header">
      <a href="../index.html" class="brand" style="text-decoration:none;">
        <div class="brand-logo">A</div>
        <div>
          <div class="brand-text-title">A-Cad√©mie</div>
          <div class="brand-text-sub">Articles & quiz bien-√™tre en libre acc√®s</div>
        </div>
      </a>

      <nav class="acad-nav">
        <a class="nav-btn" href="../index.html"><span class="dot"></span> Accueil</a>
        <a class="nav-btn primary" href="../articles.html">Articles</a>
        <a class="nav-btn" href="../recompenses.html">R√©compenses</a>
      </nav>

      <div id="acad-profile" class="profile-card">
        <div class="profile-main">
          <div class="profile-avatar">ü•¶</div>
          <div>
            <div class="profile-level">Niveau <span id="acad-level">1</span></div>
            <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
          </div>
        </div>
        <div class="profile-progress-wrapper">
          <div class="profile-progress-bar"><div class="profile-progress-fill" id="acad-xp-bar"></div></div>
          <div class="profile-progress-label"><span>Vers niveau <span id="acad-next-level">2</span></span><span id="acad-xp-to-next">0 / 100</span></div>
        </div>
      </div>
    </header>

    <main class="layout">
      <article class="article-card">
        <div class="article-meta">
          <span class="tag"><span class="tag-dot"></span> Hygi√®ne de vie & Bien-√™tre</span>
          <span class="chip">Lecture : 8 min</span>
          <span class="chip">Niveau : D√©butant</span>
        </div>

        <h1 class="article-title">Comment perdre du poids sans r√©gime : la m√©thode 2025</h1>
        <p class="article-subtitle">
          Finis les privations ! D√©couvre la m√©thode moderne pour perdre du poids durablement : √©quilibre, habitudes et √©coute du corps, sans frustration ni effet yoyo.
        </p>

        <div class="article-highlight">
          <strong>√Ä retenir :</strong> perdre du poids durablement repose sur la constance, pas sur la restriction. Petits ajustements + r√©gularit√© = grands r√©sultats.
        </div>

        <div class="article-content">
          <h2>1Ô∏è‚É£ Oublie le mot ‚Äúr√©gime‚Äù</h2>
          <p>Un r√©gime impose des r√®gles strictes √† court terme : on perd vite, puis on reprend. L‚Äôobjectif 2025 est de retrouver une relation √©quilibr√©e √† l‚Äôalimentation, sans interdits.</p>

          <h2>2Ô∏è‚É£ Reviens au bon sens</h2>
          <ul>
            <li>√âcoute ta faim et ta sati√©t√©.</li>
            <li>Mange lentement, sans √©cran.</li>
            <li>Fais de ton assiette un moment agr√©able, pas une punition.</li>
          </ul>

          <h2>3Ô∏è‚É£ Priorise la qualit√©, pas la quantit√©</h2>
          <p>Mange moins transform√© : plus de l√©gumes, prot√©ines vari√©es, bonnes graisses (huile d‚Äôolive, ol√©agineux). Ton corps r√©gule mieux quand il re√ßoit ce dont il a besoin.</p>

          <h2>4Ô∏è‚É£ Bouge, mais sans pression</h2>
          <p>Pas besoin d‚Äôentra√Æner 7 fois par semaine ! 30 minutes de marche active ou une s√©ance de sport plaisir suffisent pour relancer ton m√©tabolisme et r√©duire le stress.</p>

          <h2>5Ô∏è‚É£ Dors et r√©cup√®re</h2>
          <p>Le manque de sommeil d√©r√®gle la faim et favorise le stockage. 7 √† 8 heures par nuit = le meilleur ‚Äúbr√ªle-graisse‚Äù naturel !</p>

          <h2>6Ô∏è‚É£ Exemple de journ√©e √©quilibr√©e</h2>
          <ul>
            <li><strong>Petit-d√©jeuner :</strong> flocons d‚Äôavoine + fruits + poign√©e d‚Äôamandes.</li>
            <li><strong>D√©jeuner :</strong> l√©gumes + prot√©ines (poisson, tofu‚Ä¶) + f√©culents complets.</li>
            <li><strong>D√Æner :</strong> soupe + tartine de pain complet + ≈ìuf ou yaourt nature.</li>
          </ul>
        </div>

        <div class="article-footer-note">
          <span class="bullet-pill">üéÆ Gamification locale</span>
          <span>Lecture, quiz et partage de cet article te donnent de l‚ÄôXP sur cet appareil.</span>
        </div>

        <button type="button" class="btn btn-secondary" id="mark-article-read">‚úì J‚Äôai lu cet article (gagner de l‚ÄôXP)</button>

        <div style="margin-top:12px;">
          <button type="button" class="btn btn-primary" id="share-article">üîó Partager cet article / quiz</button>
          <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
        </div>
      </article>

      <!-- QUIZ -->
      <section class="quiz-card" id="quiz-section">
        <div class="quiz-header">
          <div class="quiz-left">
            <div class="quiz-title">Quiz express : Perdre du poids sans r√©gime</div>
            <div class="quiz-caption">5 questions pour valider les fondamentaux du bien-√™tre 2025.</div>
          </div>
          <div class="quiz-badge">‚ö° 5 questions ¬∑ 3 min</div>
        </div>

        <div class="quiz-progress" id="quiz-progress">Question 1 sur 5</div>
        <form id="quiz-form"></form>

        <div class="quiz-footer">
          <div class="quiz-actions">
            <button type="button" class="btn btn-primary" id="quiz-submit">Valider mes r√©ponses</button>
            <button type="button" class="btn btn-secondary" id="quiz-reset">Recommencer le quiz</button>
          </div>
          <div class="quiz-result" id="quiz-result">R√©ponds aux questions puis valide pour voir ton score.</div>
        </div>

        <div class="quiz-feedback" id="quiz-feedback"></div>
      </section>
    </main>
  </div>

  <script src="../js/acad-gamification.js"></script>
  <script src="../js/acad-firebase-sync.js"></script>
  <script>
    const ARTICLE_ID = "perdre-poids-2025";

    const quizData = [
      {
        id: 1,
        question: "Quelle est la cl√© principale pour perdre du poids durablement ?",
        options: [
          "Faire un r√©gime strict de 2 semaines",
          "Supprimer tous les glucides",
          "Adopter de nouvelles habitudes r√©guli√®res",
          "Sauter le petit-d√©jeuner"
        ],
        correctIndex: 2
      },
      {
        id: 2,
        question: "Pourquoi dormir suffisamment aide √† r√©guler le poids ?",
        options: [
          "Parce que le corps br√ªle des calories en dormant",
          "Parce que le manque de sommeil d√©r√®gle la faim",
          "Parce qu‚Äôon bouge moins la nuit",
          "Aucune influence"
        ],
        correctIndex: 1
      },
      {
        id: 3,
        question: "Quel est l‚Äôaliment √† privil√©gier pour un repas √©quilibr√© ?",
        options: [
          "Plats ultra-transform√©s",
          "L√©gumes et prot√©ines vari√©es",
          "Sodas light",
          "P√¢tisseries sans sucre"
        ],
        correctIndex: 1
      },
      {
        id: 4,
        question: "Combien d‚Äôheures de sommeil sont recommand√©es ?",
        options: [
          "4 √† 5 heures",
          "6 √† 7 heures",
          "7 √† 8 heures",
          "Plus de 10 heures"
        ],
        correctIndex: 2
      },
      {
        id: 5,
        question: "Quelle activit√© suffit souvent pour relancer le m√©tabolisme ?",
        options: [
          "Marcher 30 minutes par jour",
          "Faire 2 heures de sport intensif quotidien",
          "Courir un marathon chaque mois",
          "Sauter des repas"
        ],
        correctIndex: 0
      }
    ];

    const quizForm = document.getElementById("quiz-form");
    const quizProgress = document.getElementById("quiz-progress");
    const quizResult = document.getElementById("quiz-result");
    const quizFeedback = document.getElementById("quiz-feedback");
    const submitBtn = document.getElementById("quiz-submit");
    const resetBtn = document.getElementById("quiz-reset");

    function renderQuiz() {
      quizForm.innerHTML = "";
      quizData.forEach((q, index) => {
        const div = document.createElement("div");
        div.className = "quiz-question";
        div.dataset.questionId = q.id;
        div.innerHTML = `
          <div class="quiz-question-header">
            <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
            <div class="quiz-question-meta">1 seule bonne r√©ponse</div>
          </div>
          <div class="quiz-options">
            ${q.options.map((opt, i) => `
              <label class="quiz-option">
                <input type="radio" name="question-${q.id}" value="${i}">
                <span>${opt}</span>
              </label>`).join("")}
          </div>`;
        quizForm.appendChild(div);
      });
      quizProgress.textContent = "Question 1 sur " + quizData.length;
      quizResult.innerHTML = "R√©ponds aux questions puis valide pour voir ton score.";
      quizFeedback.textContent = "";
    }

    function updateProgress() {
      const total = quizData.length;
      const answered = quizData.filter(q =>
        Array.from(document.querySelectorAll('input[name="question-' + q.id + '"]')).some(r => r.checked)
      ).length;
      quizProgress.textContent = "Question " + Math.max(1, answered) + " sur " + total;
    }
    quizForm.addEventListener("change", updateProgress);

    function evaluateQuiz() {
      let score = 0;
      const total = quizData.length;
      document.querySelectorAll(".quiz-option").forEach(o => o.classList.remove("correct","incorrect"));
      quizData.forEach(q => {
        const radios = document.querySelectorAll('input[name="question-' + q.id + '"]');
        let sel = null;
        radios.forEach((r, idx) => { if (r.checked) sel = idx; });
        const block = document.querySelector('.quiz-question[data-question-id="' + q.id + '"]');
        const opts = block.querySelectorAll(".quiz-option");
        if (sel === q.correctIndex) {
          score++;
          opts[sel]?.classList.add("correct");
        } else {
          opts[q.correctIndex]?.classList.add("correct");
          if (sel != null) opts[sel].classList.add("incorrect");
        }
      });
      const ratio = score / total;
      let msg = ratio === 1
        ? "Parfait ! Tu ma√Ætrises les bases de la m√©thode 2025 ü•¶"
        : ratio >= 0.7
        ? "Tr√®s bon ! Encore quelques r√©flexes √† consolider."
        : ratio >= 0.4
        ? "Pas mal : relis l‚Äôarticle pour renforcer tes connaissances."
        : "Tu peux relire l‚Äôarticle et retenter !";
      quizResult.innerHTML = `<strong>${score}/${total}</strong> bonnes r√©ponses. ${msg}`;
      if (window.acadGamification)
        window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);
      quizFeedback.textContent = ratio === 1
        ? "üéÆ Bravo ! Quiz parfait, badge Hygi√®ne de vie d√©bloqu√©."
        : "Tu peux recommencer pour viser le 100 %.";
    }

    function resetQuiz(){renderQuiz();}
    submitBtn.addEventListener("click", evaluateQuiz);
    resetBtn.addEventListener("click", resetQuiz);

    const readBtn = document.getElementById("mark-article-read");
    if (readBtn) {
      readBtn.addEventListener("click", () => {
        if (window.acadGamification)
          window.acadGamification.markArticleRead(ARTICLE_ID, 20);
        readBtn.textContent = "‚úì Article compt√© pour l‚ÄôXP locale";
        readBtn.disabled = true;
      });
    }

    const shareBtn = document.getElementById("share-article");
    const shareFeedback = document.getElementById("share-feedback");
    if (shareBtn) {
      shareBtn.addEventListener("click", async () => {
        if (window.acadGamification)
          window.acadGamification.registerShare(ARTICLE_ID, 15);
        const shareData = {
          title: "A-Cad√©mie ‚Äî Comment perdre du poids sans r√©gime",
          text: "D√©couvre la m√©thode 2025 pour perdre du poids sans frustration + quiz express !",
          url: window.location.href
        };
        if (navigator.share) {
          try { await navigator.share(shareData);
            shareFeedback.textContent = "Merci pour le partage ! (XP ajout√©e)";
          } catch(e){ shareFeedback.textContent = "Partage annul√© üòâ"; }
        } else {
          shareFeedback.textContent = "Partage non disponible : copie l‚Äôadresse pour la partager ! (XP ajout√©e)";
        }
      });
    }

    renderQuiz();
  </script>
</body>
</html>
