<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-Cad√©mie ‚Äî D√©buter le Pilates simplement √† la maison</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>

<body>
<div class="page">

  <!-- HEADER -->
  <header class="acad-header">
    <a href="../index.html" class="brand">
      <div class="brand-logo">A</div>
      <div>
        <div class="brand-text-title">A-Cad√©mie</div>
        <div class="brand-text-sub">Pilates / Yoga / Mobilit√© ¬∑ Article + Quiz</div>
      </div>
    </a>

    <nav class="acad-nav">
      <a href="../index.html" class="nav-btn"><span class="dot"></span> Accueil</a>
      <a href="../articles.html" class="nav-btn primary">Articles</a>
      <a href="../recompenses.html" class="nav-btn">R√©compenses</a>
    </nav>

    <div id="acad-profile" class="profile-card">
      <div class="profile-main">
        <div class="profile-avatar">üßò‚Äç‚ôÄÔ∏è</div>
        <div>
          <div class="profile-level">Niveau <span id="acad-level">1</span></div>
          <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
        </div>
      </div>
      <div class="profile-progress-wrapper">
        <div class="profile-progress-bar">
          <div class="profile-progress-fill" id="acad-xp-bar"></div>
        </div>
        <div class="profile-progress-label">
          <span>Vers niveau <span id="acad-next-level">2</span></span>
          <span id="acad-xp-to-next">0 / 100</span>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="layout">

    <!-- ARTICLE -->
    <article class="article-card">

      <div class="article-meta">
        <span class="tag"><span class="tag-dot"></span> Pilates / Fitness doux</span>
        <span class="chip">Lecture : 6‚Äì7 min</span>
        <span class="chip">Niveau : D√©butant</span>
      </div>

      <h1 class="article-title">D√©buter le Pilates simplement √† la maison</h1>
      <p class="article-subtitle">
        Envie de te renforcer en douceur, de prot√©ger ton dos et d‚Äôam√©liorer ta posture‚Ä¶ sans aller en salle ?  
        Le Pilates √† la maison est parfait pour √ßa, √† condition de respecter quelques bases simples.
      </p>

      <div class="article-highlight">
        <strong>√Ä retenir :</strong> respiration, centre du corps (‚Äúcore‚Äù) et contr√¥le des mouvements = le c≈ìur du Pilates.
      </div>

      <div class="article-content">

        <h2>1Ô∏è‚É£ C‚Äôest quoi le Pilates, concr√®tement ?</h2>
        <p>
          Le Pilates est une m√©thode de renforcement doux qui se concentre sur :
        </p>
        <ul>
          <li>les muscles profonds (gainage, dos, bassin),</li>
          <li>la respiration contr√¥l√©e,</li>
          <li>la posture et l‚Äôalignement du corps,</li>
          <li>la qualit√© du mouvement plut√¥t que la quantit√©.</li>
        </ul>
        <p>
          ‚ûú Id√©al si tu veux te renforcer sans sauts, sans impact et sans mat√©riel compliqu√©.
        </p>

        <h2>2Ô∏è‚É£ Le mat√©riel minimum √† la maison</h2>
        <p>Tu peux d√©j√† faire beaucoup avec presque rien :</p>
        <ul>
          <li>un tapis (ou sol pas trop dur),</li>
          <li>une serviette ou petit coussin si besoin sous la t√™te,</li>
          <li>une tenue confortable (pas trop large pour voir ta posture).</li>
        </ul>
        <p>Plus tard, tu pourras ajouter : √©lastique, petit ballon, anneau Pilates‚Ä¶ mais ce n‚Äôest pas obligatoire pour d√©buter.</p>

        <h2>3Ô∏è‚É£ Les 4 grands principes √† respecter</h2>

        <h3>‚ë† Respiration</h3>
        <p>
          On respire par le nez √† l‚Äôinspiration, et par la bouche en soufflant.  
          Souffle pendant l‚Äôeffort, inspire pendant le retour.
        </p>

        <h3>‚ë° Centre du corps (‚Äúpowerhouse‚Äù)</h3>
        <p>
          Imagine que tu ‚Äúzip‚Äù le bas du ventre vers le haut :  
          tu engages doucement les abdos profonds, sans rentrer le ventre √† fond, sans bloquer ta respiration.
        </p>

        <h3>‚ë¢ Alignement & posture</h3>
        <ul>
          <li>t√™te dans le prolongement de la colonne,</li>
          <li>√©paules basses, loin des oreilles,</li>
          <li>bassin neutre (ni trop cambr√©, ni plaqu√© √† fond).</li>
        </ul>

        <h3>‚ë£ Qualit√© du mouvement</h3>
        <p>
          Mieux vaut 6 r√©p√©titions lentes et contr√¥l√©es que 20 faites vite.  
          ‚ûú Le Pilates, c‚Äôest du ‚Äúpr√©cis‚Äù, pas du ‚Äúbourrin‚Äù.
        </p>

        <h2>4Ô∏è‚É£ Exemple de mini-s√©ance d√©butant (10‚Äì12 min)</h2>
        <p>Tu peux faire cette petite s√©ance 2 √† 3 fois par semaine :</p>

        <h3>1) Respiration & centrage (1 min)</h3>
        <ul>
          <li>allong√©(e) sur le dos, genoux fl√©chis, pieds au sol,</li>
          <li>inspire par le nez en ouvrant les c√¥tes,</li>
          <li>souffle par la bouche en engageant doucement le bas du ventre.</li>
        </ul>

        <h3>2) Pont de hanches (2 √ó 8 r√©p√©titions)</h3>
        <ul>
          <li>allong√©(e) sur le dos,</li>
          <li>pousse dans les pieds pour monter le bassin, vert√®bre par vert√®bre,</li>
          <li>garde les abdos engag√©s, redescends lentement.</li>
        </ul>

        <h3>3) Dead bug (2 √ó 6 r√©p√©titions / c√¥t√©)</h3>
        <ul>
          <li>sur le dos, hanches et genoux √† 90¬∞, bras vers le plafond,</li>
          <li>souffle en descendant une jambe + bras oppos√©,</li>
          <li>inspire en revenant au centre sans cambrer le dos.</li>
        </ul>

        <h3>4) Side kick (2 √ó 8 r√©p√©titions / c√¥t√©)</h3>
        <ul>
          <li>allong√© sur le c√¥t√©, jambe du dessus tendue,</li>
          <li>petits mouvements de va-et-vient de la jambe,</li>
          <li>bassin stable, abdos engag√©s.</li>
        </ul>

        <h3>5) √âtirement du dos en position ‚Äúcoquille‚Äù (30‚Äì40 sec)</h3>
        <p>√Ä genoux, assis(e) sur les talons, bras loin devant, dos rel√¢ch√©.</p>

        <h2>5Ô∏è‚É£ Fr√©quence et progression</h2>
        <ul>
          <li>2 s√©ances / semaine = tu sens d√©j√† des effets,</li>
          <li>3 s√©ances / semaine = vrai changement de posture et de tonicit√©.</li>
        </ul>
        <p>
          ‚ûú Tu peux commencer par 10‚Äì12 minutes, puis monter √† 20‚Äì25 minutes quand tu es √† l‚Äôaise.
        </p>

        <h2>6Ô∏è‚É£ Erreurs fr√©quentes √† √©viter</h2>
        <ul>
          <li>bloquer la respiration,</li>
          <li>vouloir aller trop vite,</li>
          <li>cambrer le bas du dos sur les exercices abdos,</li>
          <li>forcer si une douleur articulaire appara√Æt.</li>
        </ul>

        <p>
          Si un exercice provoque une vraie douleur (pas juste l‚Äôeffort musculaire), tu l‚Äôall√®ges ou tu le remplaces.
        </p>

      </div>

      <!-- FOOTER GAMIF -->
      <div class="article-footer-note">
        <span class="bullet-pill">üéÆ Gamification locale</span>
        <span>Lecture, quiz et partage = XP gagn√©e sur cet appareil.</span>
      </div>

      <button class="btn btn-secondary" id="mark-article-read">
        ‚úì J‚Äôai lu cet article (gagner de l‚ÄôXP)
      </button>

      <div style="margin-top:12px;">
        <button class="btn btn-primary" id="share-article">üîó Partager cet article / quiz</button>
        <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
      </div>

    </article>


    <!-- QUIZ -->
    <section class="quiz-card" id="quiz-section">

      <div class="quiz-header">
        <div>
          <div class="quiz-title">Quiz express : D√©buter le Pilates</div>
          <div class="quiz-caption">5 questions pour v√©rifier que tu as bien compris les bases.</div>
        </div>
        <div class="quiz-badge">‚ö° 5 questions ¬∑ 3 min</div>
      </div>

      <div id="quiz-progress" class="quiz-progress">Question 1 sur 5</div>
      <form id="quiz-form"></form>

      <div class="quiz-footer">
        <div class="quiz-actions">
          <button id="quiz-submit" type="button" class="btn btn-primary">Valider mes r√©ponses</button>
          <button id="quiz-reset" type="button" class="btn btn-secondary">Recommencer le quiz</button>
        </div>
        <div id="quiz-result" class="quiz-result">R√©ponds aux questions puis valide pour voir ton score.</div>
      </div>

      <div id="quiz-feedback" class="quiz-feedback"></div>
    </section>

  </main>
</div>

<!-- SCRIPTS GAMIF -->
<script src="../js/acad-gamification.js"></script>
<script src="../js/acad-firebase-sync.js"></script>

<script>
const ARTICLE_ID = "debuter-pilates-maison";

const quizData = [
  {
    id: 1,
    question: "Le Pilates se concentre principalement sur :",
    options: [
      "La vitesse et le cardio",
      "Les muscles profonds, la posture et la respiration",
      "Les sauts et les impacts",
      "Uniquement l‚Äô√©tirement"
    ],
    correctIndex: 1
  },
  {
    id: 2,
    question: "Quel mat√©riel est vraiment indispensable pour d√©buter ?",
    options: [
      "Une salle √©quip√©e et des machines",
      "Un tapis et une tenue confortable",
      "Un ballon, un anneau et des halt√®res",
      "Une barre de traction"
    ],
    correctIndex: 1
  },
  {
    id: 3,
    question: "Dans le Pilates, on privil√©gie :",
    options: [
      "La quantit√© avant tout",
      "Les mouvements rapides",
      "Quelques r√©p√©titions lentes et contr√¥l√©es",
      "Des mouvements explosifs"
    ],
    correctIndex: 2
  },
  {
    id: 4,
    question: "Le centre du corps (‚Äúpowerhouse‚Äù), c‚Äôest :",
    options: [
      "Uniquement les bras",
      "Le bas du ventre, les abdos profonds et le bassin",
      "Les cuisses seulement",
      "Le cou et la t√™te"
    ],
    correctIndex: 1
  },
  {
    id: 5,
    question: "Combien de s√©ances par semaine sont recommand√©es pour ressentir des effets ?",
    options: [
      "1 s√©ance par mois",
      "2 √† 3 s√©ances par semaine",
      "Tous les jours pendant 2 heures",
      "Uniquement le week-end"
    ],
    correctIndex: 1
  }
];

const quizForm = document.getElementById("quiz-form");
const quizProgress = document.getElementById("quiz-progress");
const quizResult = document.getElementById("quiz-result");
const quizFeedback = document.getElementById("quiz-feedback");
const submitBtn = document.getElementById("quiz-submit");
const resetBtn = document.getElementById("quiz-reset");

function renderQuiz() {
  quizForm.innerHTML = "";

  quizData.forEach((q, index) => {
    const block = document.createElement("div");
    block.className = "quiz-question";
    block.dataset.questionId = q.id;

    block.innerHTML = `
      <div class="quiz-question-header">
        <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
        <div class="quiz-question-meta">1 seule bonne r√©ponse</div>
      </div>
      <div class="quiz-options">
        ${q.options.map((opt, i) => `
          <label class="quiz-option">
            <input type="radio" name="question-${q.id}" value="${i}">
            <span>${opt}</span>
          </label>
        `).join("")}
      </div>
    `;

    quizForm.appendChild(block);
  });

  quizProgress.textContent = "Question 1 sur " + quizData.length;
  quizResult.textContent = "R√©ponds aux questions puis valide pour voir ton score.";
  quizFeedback.textContent = "";
}

function updateProgress() {
  const answered = quizData.filter(q =>
    [...document.querySelectorAll('input[name="question-' + q.id + '"]')]
      .some(r => r.checked)
  ).length;

  quizProgress.textContent = "Question " + (answered || 1) + " sur " + quizData.length;
}

quizForm.addEventListener("change", updateProgress);

function evaluateQuiz() {
  let score = 0;

  document.querySelectorAll(".quiz-option").forEach(o =>
    o.classList.remove("correct","incorrect")
  );

  quizData.forEach(q => {
    const radios = document.querySelectorAll('input[name="question-' + q.id + '"]');
    let selected = null;
    radios.forEach((r,i)=>{ if(r.checked) selected = i; });

    const block = document.querySelector('.quiz-question[data-question-id="' + q.id + '"]');
    const opts = block.querySelectorAll(".quiz-option");

    if(selected === q.correctIndex){
      score++;
      if(opts[selected]) opts[selected].classList.add("correct");
    } else {
      if(opts[q.correctIndex]) opts[q.correctIndex].classList.add("correct");
      if(selected !== null && opts[selected]) opts[selected].classList.add("incorrect");
    }
  });

  const total = quizData.length;
  const ratio = score / total;

  let msg =
    ratio === 1 ? "Parfait ! Tu ma√Ætrises les bases du Pilates √† la maison üßò‚Äç‚ôÄÔ∏è" :
    ratio >= 0.7 ? "Tr√®s bon score, tu es sur la bonne voie." :
    ratio >= 0.4 ? "Pas mal, mais tu peux relire l‚Äôarticle." :
    "Relis l‚Äôarticle tranquillement puis retente le quiz.";

  quizResult.innerHTML = "<strong>" + score + "/" + total + "</strong> bonnes r√©ponses ‚Ä¢ " + msg;

  if(window.acadGamification){
    window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);
  }

  quizFeedback.textContent =
    ratio === 1 ? "üéÆ Bravo ! XP bonus ajout√©e." : "Tu peux viser le perfect √† la prochaine tentative !";
}

submitBtn.addEventListener("click", evaluateQuiz);
resetBtn.addEventListener("click", renderQuiz);

const readBtn = document.getElementById("mark-article-read");
if (readBtn) {
  readBtn.addEventListener("click", () => {
    if(window.acadGamification){
      window.acadGamification.markArticleRead(ARTICLE_ID, 20);
    }
    readBtn.textContent = "‚úì Article compt√© pour l‚ÄôXP locale";
    readBtn.disabled = true;
  });
}

const shareBtn = document.getElementById("share-article");
const shareFeedback = document.getElementById("share-feedback");

if (shareBtn) {
  shareBtn.addEventListener("click", async () => {
    if(window.acadGamification){
      window.acadGamification.registerShare(ARTICLE_ID, 15);
    }

    const data = {
      title: "A-Cad√©mie ‚Äî D√©buter le Pilates √† la maison",
      text: "Bases simples du Pilates √† la maison + quiz.",
      url: window.location.href
    };

    if(navigator.share){
      try{
        await navigator.share(data);
        shareFeedback.textContent = "Merci pour le partage ! (XP ajout√©e)";
      } catch {
        shareFeedback.textContent = "Partage annul√©.";
      }
    } else {
      shareFeedback.textContent = "Partage automatique non disponible sur cet appareil.";
    }
  });
}

renderQuiz();
</script>

</body>
</html>
