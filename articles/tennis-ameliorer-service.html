<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-CadÃ©mie â€” Tennis : amÃ©liorer son service facilement</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>

<body>
<div class="page">

  <!-- HEADER -->
  <header class="acad-header">
    <a href="../index.html" class="brand">
      <div class="brand-logo">A</div>
      <div>
        <div class="brand-text-title">A-CadÃ©mie</div>
        <div class="brand-text-sub">Rackets â€” Tennis Â· Article + Quiz</div>
      </div>
    </a>

    <nav class="acad-nav">
      <a href="../index.html" class="nav-btn"><span class="dot"></span> Accueil</a>
      <a href="../articles.html" class="nav-btn primary">Articles</a>
      <a href="../recompenses.html" class="nav-btn">RÃ©compenses</a>
    </nav>

    <div id="acad-profile" class="profile-card">
      <div class="profile-main">
        <div class="profile-avatar">ğŸ¾</div>
        <div>
          <div class="profile-level">Niveau <span id="acad-level">1</span></div>
          <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
        </div>
      </div>
      <div class="profile-progress-wrapper">
        <div class="profile-progress-bar">
          <div class="profile-progress-fill" id="acad-xp-bar"></div>
        </div>
        <div class="profile-progress-label">
          <span>Vers niveau <span id="acad-next-level">2</span></span>
          <span id="acad-xp-to-next">0 / 100</span>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="layout">

    <!-- ARTICLE -->
    <article class="article-card">

      <div class="article-meta">
        <span class="tag"><span class="tag-dot"></span> Tennis</span>
        <span class="chip">Lecture : 7 min</span>
        <span class="chip">Niveau : DÃ©butant / IntermÃ©diaire</span>
      </div>

      <h1 class="article-title">Tennis : amÃ©liorer son service facilement</h1>
      <p class="article-subtitle">
        Le service est lâ€™un des coups les plus difficiles du tennisâ€¦ mais aussi lâ€™un des plus gratifiants.  
        Voici les ajustements simples qui amÃ©liorent immÃ©diatement prÃ©cision, puissance et rÃ©gularitÃ©.
      </p>

      <div class="article-highlight">
        <strong>Ã€ retenir :</strong> un bon service = lancer rÃ©gulier + relÃ¢chement + timing, pas forcÃ©ment de la force.
      </div>

      <div class="article-content">

        <h2>1ï¸âƒ£ Le lancer de balle (le secret nÂ°1)</h2>
        <p>
          80% des fautes de service viennentâ€¦ dâ€™un mauvais lancer.
        </p>

        <h3>Objectifs dâ€™un bon lancer :</h3>
        <ul>
          <li>hauteur constante</li>
          <li>devant toi, lÃ©gÃ¨rement Ã  droite pour un droitier</li>
          <li>pas de rotation de balle</li>
        </ul>

        <p>âœ”ï¸ Conseil : entraÃ®ne-toi Ã  lancer 10 balles sans servir.</p>

        <h2>2ï¸âƒ£ Le relÃ¢chement du bras</h2>
        <p>
          Beaucoup de joueurs crispent lâ€™Ã©paule et le bras â†’ perte de puissance.
        </p>

        <p>
          âœ <strong>Le bras doit â€œpendreâ€ avant de monter.</strong>
        </p>

        <h2>3ï¸âƒ£ Le bon timing (pas la force)</h2>
        <p>
          Le service est un mouvement de chaÃ®ne : jambe â†’ hanche â†’ buste â†’ bras â†’ poignet.
        </p>
        <p>
          Tu nâ€™as pas besoin de frapper fort, mais de frapper au bon moment avec le bon transfert.
        </p>

        <h2>4ï¸âƒ£ Lâ€™impact haut + bras tendu</h2>
        <p>
          Plus ton point dâ€™impact est haut, plus ton service est naturel et prÃ©cis.
        </p>

        <h2>5ï¸âƒ£ La fluiditÃ© : aucun arrÃªt dans le geste</h2>
        <p>
          Le geste doit Ãªtre fluide, continu, rythmÃ©.  
          Trop dâ€™arrÃªts = perte dâ€™Ã©quilibre et de prÃ©cision.
        </p>

        <h2>6ï¸âƒ£ Des repÃ¨res concrets Ã  appliquer dÃ¨s la prochaine sÃ©ance</h2>
        <ul>
          <li>3 lancers parfaits avant chaque sÃ©rie</li>
          <li>visÃ©e large â†’ carrÃ© de service entier, pas la ligne</li>
          <li>services Ã  60 % â†’ prÃ©cision avant puissance</li>
        </ul>

        <h2>7ï¸âƒ£ 3 exercices simples pour progresser</h2>

        <h3>Exercice 1 â€” Lancer parfait (2 min)</h3>
        <p>10 lancers, arrÃªt si la balle part sur le cÃ´tÃ© ou tourne.</p>

        <h3>Exercice 2 â€” Service Ã  50 % de force</h3>
        <p>Objectif : 8 services sur 10 dans le carrÃ©.</p>

        <h3>Exercice 3 â€” Cible large</h3>
        <p>Servir en croisÃ© en visant une zone large, jamais une ligne.</p>

        <p>
          Avec ces conseils, beaucoup de joueurs gagnent 20â€“30 % de prÃ©cision en 2 Ã  3 semaines.
        </p>

      </div>

      <!-- FOOTER -->
      <div class="article-footer-note">
        <span class="bullet-pill">ğŸ® Gamification locale</span>
        <span>Lecture, quiz et partage = XP gagnÃ©e sur cet appareil.</span>
      </div>

      <button class="btn btn-secondary" id="mark-article-read">
        âœ“ Jâ€™ai lu cet article (gagner de lâ€™XP)
      </button>

      <div style="margin-top:12px;">
        <button class="btn btn-primary" id="share-article">ğŸ”— Partager cet article / quiz</button>
        <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
      </div>

    </article>


    <!-- QUIZ -->
    <section class="quiz-card" id="quiz-section">

      <div class="quiz-header">
        <div>
          <div class="quiz-title">Quiz express : Service tennis</div>
          <div class="quiz-caption">5 questions pour vÃ©rifier tes bases.</div>
        </div>
        <div class="quiz-badge">âš¡ 5 questions Â· 3 min</div>
      </div>

      <div id="quiz-progress" class="quiz-progress">Question 1 sur 5</div>
      <form id="quiz-form"></form>

      <div class="quiz-footer">
        <div class="quiz-actions">
          <button id="quiz-submit" class="btn btn-primary">Valider mes rÃ©ponses</button>
          <button id="quiz-reset" class="btn btn-secondary">Recommencer le quiz</button>
        </div>
        <div id="quiz-result" class="quiz-result">RÃ©ponds aux questions puis valide pour voir ton score.</div>
      </div>

      <div id="quiz-feedback" class="quiz-feedback"></div>
    </section>

  </main>
</div>

<!-- SCRIPTS -->
<script src="../js/acad-gamification.js"></script>
<script src="../js/acad-firebase-sync.js"></script>

<script>
const ARTICLE_ID = "tennis-service-facile";

const quizData = [
  {
    id: 1,
    question: "Quel Ã©lÃ©ment est le plus important dans un bon service ?",
    options: ["La puissance", "Le lancer de balle", "La vitesse du bras", "Le bruit du cordage"],
    correctIndex: 1
  },
  {
    id: 2,
    question: "Le bras doit Ãªtreâ€¦",
    options: ["TrÃ¨s tendu dÃ¨s le dÃ©part", "RelÃ¢chÃ© puis accÃ©lÃ©rer", "CrispÃ©", "Toujours derriÃ¨re le corps"],
    correctIndex: 1
  },
  {
    id: 3,
    question: "Le service dÃ©pend surtout de :",
    options: ["La force brute", "La chaÃ®ne de mouvements et du timing", "Le geste du poignet uniquement", "Ta vitesse de sprint"],
    correctIndex: 1
  },
  {
    id: 4,
    question: "Pour progresser, il est conseillÃ© :",
    options: [
      "Vise la ligne directement",
      "Servir Ã  50â€“60% de puissance pour Ãªtre rÃ©gulier",
      "Ne jamais travailler le lancer",
      "Changer de raquette souvent"
    ],
    correctIndex: 1
  },
  {
    id: 5,
    question: "Ã€ quel moment ton service gagne en prÃ©cision ?",
    options: [
      "Quand tu frappes Ã  pleine puissance",
      "Quand ton geste est fluide et sans arrÃªt",
      "Quand tu regardes ton partenaire",
      "Quand tu recules pendant le service"
    ],
    correctIndex: 1
  }
];

const quizForm = document.getElementById("quiz-form");
const quizProgress = document.getElementById("quiz-progress");
const quizResult = document.getElementById("quiz-result");
const quizFeedback = document.getElementById("quiz-feedback");
const submitBtn = document.getElementById("quiz-submit");
const resetBtn = document.getElementById("quiz-reset");

function renderQuiz() {
  quizForm.innerHTML = "";

  quizData.forEach((q, index) => {
    const block = document.createElement("div");
    block.className = "quiz-question";
    block.dataset.questionId = q.id;

    block.innerHTML = `
      <div class="quiz-question-header">
        <div class="quiz-question-label">Q${index+1}. ${q.question}</div>
        <div class="quiz-question-meta">1 seule bonne rÃ©ponse</div>
      </div>
      <div class="quiz-options">
        ${q.options.map((opt,i)=>`
          <label class="quiz-option">
            <input type="radio" name="question-${q.id}" value="${i}">
            <span>${opt}</span>
          </label>
        `).join("")}
      </div>
    `;

    quizForm.appendChild(block);
  });

  quizProgress.textContent = "Question 1 sur " + quizData.length;
  quizFeedback.textContent = "";
  quizResult.textContent = "RÃ©ponds aux questions puis valide pour voir ton score.";
}

function updateProgress(){
  const answered = quizData.filter(q =>
    [...document.querySelectorAll(`input[name="question-${q.id}"]`)]
      .some(r => r.checked)
  ).length;

  quizProgress.textContent = `Question ${answered || 1} sur ${quizData.length}`;
}

quizForm.addEventListener("change", updateProgress);

function evaluateQuiz(){
  let score = 0;

  document.querySelectorAll(".quiz-option").forEach(o=>{
    o.classList.remove("correct","incorrect");
  });

  quizData.forEach(q=>{
    const radios = document.querySelectorAll(`input[name="question-${q.id}"]`);
    let selected = null;
    radios.forEach((r,i)=>{ if(r.checked) selected = i });

    const block = document.querySelector(`.quiz-question[data-question-id="${q.id}"]`);
    const opts = block.querySelectorAll(".quiz-option");

    if(selected === q.correctIndex){
      score++;
      opts[selected]?.classList.add("correct");
    } else {
      if(selected !== null) opts[selected]?.classList.add("incorrect");
      opts[q.correctIndex]?.classList.add("correct");
    }
  });

  const total = quizData.length;
  let msg =
    score === 5 ? "Excellent ! Ton service va dÃ©coller ğŸ¾" :
    score >= 3 ? "TrÃ¨s bon score, continue ainsi." :
    "Relis lâ€™article tranquillement.";

  quizResult.innerHTML = `<strong>${score}/${total}</strong> bonnes rÃ©ponses â€¢ ${msg}`;

  if(window.acadGamification){
    window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);
  }

  quizFeedback.textContent =
    score === 5 ? "ğŸ® Bravo ! XP bonus ajoutÃ©e." : "Tu peux tenter le perfect !";
}

submitBtn.addEventListener("click", evaluateQuiz);
resetBtn.addEventListener("click", renderQuiz);

document.getElementById("mark-article-read").addEventListener("click", ()=>{
  if(window.acadGamification){
    window.acadGamification.markArticleRead(ARTICLE_ID, 20);
  }
  const btn = document.getElementById("mark-article-read");
  btn.textContent = "âœ“ Article comptÃ© pour lâ€™XP locale";
  btn.disabled = true;
});

document.getElementById("share-article").addEventListener("click", async ()=>{
  if(window.acadGamification){
    window.acadGamification.registerShare(ARTICLE_ID, 15);
  }

  const data = {
    title: "A-CadÃ©mie â€” Tennis : amÃ©liorer son service facilement",
    text: "Conseils simples pour amÃ©liorer ton service au tennis + quiz.",
    url: window.location.href
  };

  const feedback = document.getElementById("share-feedback");

  if(navigator.share){
    try {
      await navigator.share(data);
      feedback.textContent = "Merci pour le partage ! (XP ajoutÃ©e)";
    } catch {
      feedback.textContent = "Partage annulÃ©.";
    }
  } else {
    feedback.textContent = "Le partage automatique nâ€™est pas disponible.";
  }
});

renderQuiz();
</script>

</body>
</html>
