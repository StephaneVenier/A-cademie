<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-CadÃ©mie â€” Hyrox : comment prÃ©parer sa premiÃ¨re course</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>

<body>
<div class="page">

  <!-- HEADER -->
  <header class="acad-header">
    <a href="../index.html" class="brand">
      <div class="brand-logo">A</div>
      <div>
        <div class="brand-text-title">A-CadÃ©mie</div>
        <div class="brand-text-sub">Hyrox / PrÃ©paration Â· Article + Quiz</div>
      </div>
    </a>

    <nav class="acad-nav">
      <a href="../index.html" class="nav-btn"><span class="dot"></span> Accueil</a>
      <a href="../articles.html" class="nav-btn primary">Articles</a>
      <a href="../recompenses.html" class="nav-btn">RÃ©compenses</a>
    </nav>

    <div id="acad-profile" class="profile-card">
      <div class="profile-main">
        <div class="profile-avatar">ğŸƒâ€â™‚ï¸ğŸ</div>
        <div>
          <div class="profile-level">Niveau <span id="acad-level">1</span></div>
          <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
        </div>
      </div>
      <div class="profile-progress-wrapper">
        <div class="profile-progress-bar">
          <div class="profile-progress-fill" id="acad-xp-bar"></div>
        </div>
        <div class="profile-progress-label">
          <span>Vers niveau <span id="acad-next-level">2</span></span>
          <span id="acad-xp-to-next">0 / 100</span>
        </div>
      </div>
    </div>
  </header>


  <!-- MAIN -->
  <main class="layout">

    <!-- ARTICLE -->
    <article class="article-card">

      <div class="article-meta">
        <span class="tag"><span class="tag-dot"></span> Hyrox</span>
        <span class="chip">Lecture : 7â€“8 min</span>
        <span class="chip">Niveau : DÃ©butant / IntermÃ©diaire</span>
      </div>

      <h1 class="article-title">Hyrox : comment prÃ©parer sa premiÃ¨re course</h1>
      <p class="article-subtitle">
        Tu veux te lancer sur ton premier Hyrox ? Bonne idÃ©e.  
        Format exigeant mais accessible, Ã  condition dâ€™avoir un plan clair. Voici comment tâ€™y prÃ©parer en sÃ©curitÃ©â€¦ et avec style.
      </p>

      <div class="article-highlight">
        <strong>Ã€ retenir :</strong> 3 piliers Ã  travailler â†’ course, stations fonctionnelles, gestion de lâ€™allure. Tu nâ€™as pas besoin dâ€™Ãªtre â€œmonstrueuxâ€, mais dâ€™Ãªtre prÃªt partout.
      </div>

      <div class="article-content">

        <h2>1ï¸âƒ£ Rappel du format Hyrox</h2>
        <p>Un Hyrox, câ€™est :</p>
        <ul>
          <li>8 Ã— 1 km de course,</li>
          <li>entre chaque km : 1 station fonctionnelle (ski, traÃ®neau, burpees, lunges, etc.),</li>
          <li>durÃ©e totale : de 55 min Ã  1h40 pour la majoritÃ© des participants.</li>
        </ul>
        <p>
          âœ Tu dois donc Ãªtre capable de <strong>courir longtemps</strong> tout en enchaÃ®nant des blocs de force/puissance.
        </p>

        <h2>2ï¸âƒ£ Choisir ta catÃ©gorie & ton objectif</h2>
        <ul>
          <li><strong>Open</strong> : charges plus lÃ©gÃ¨res, parfait pour un premier Hyrox.</li>
          <li><strong>Pro</strong> : charges plus lourdes (Ã  envisager plus tard).</li>
          <li><strong>Double</strong> : en duo, on partage les stations.</li>
          <li><strong>Relais</strong> : Ã  4, chacun fait 2 km + 2 stations.</li>
        </ul>
        <p>
          Pour une premiÃ¨re, viser <strong>finisher sans te cramer</strong> est dÃ©jÃ  un gros objectif.  
          La performance chrono pourra venir ensuite.
        </p>

        <h2>3ï¸âƒ£ Plan simple sur 8 semaines</h2>
        <p>Base : <strong>3 Ã  4 sÃ©ances / semaine</strong>.</p>

        <h3>ğŸ”¹ 1 sÃ©ance â€œcourseâ€</h3>
        <ul>
          <li>Footing 30â€“45 min en endurance fondamentale,</li>
          <li>+ 4â€“6 Ã— 30 sec un peu plus rapide (rÃ©cup 1 min).</li>
        </ul>

        <h3>ğŸ”¹ 1 sÃ©ance â€œstations Hyroxâ€</h3>
        <p>Exemple :</p>
        <ul>
          <li>4 tours :</li>
          <li>â€” 500 m rameur ou 400 m course,</li>
          <li>â€” 20 lunges (avec ou sans charge),</li>
          <li>â€” 10 burpees broad jumps,</li>
          <li>â€” 15 wall balls (ou squats + lancer de ballon).</li>
        </ul>

        <h3>ğŸ”¹ 1 sÃ©ance â€œforce / renfoâ€</h3>
        <p>Bas du corps + poussÃ©e/tirage :</p>
        <ul>
          <li>Squats ou leg press,</li>
          <li>Fentes,</li>
          <li>Rowing / tirage,</li>
          <li>Pompes / dÃ©veloppÃ©,</li>
          <li>Gainage.</li>
        </ul>

        <h3>ğŸ”¹ Option : 1 sÃ©ance â€œmixteâ€</h3>
        <p>Exemple : 5 Ã— (500 m course + 10 burpees).</p>

        <h2>4ï¸âƒ£ Focus sur les stations â€œclÃ©â€</h2>

        <h3>ğŸ›· TraÃ®neau push / pull</h3>
        <p>
          Si tu nâ€™as pas de traÃ®neau, tu peux simuler avec :
        </p>
        <ul>
          <li>poussÃ©e de sled en salle,</li>
          <li>marche rapide / course en cÃ´te,</li>
          <li>travail de cuisses lourdes (squat, presse, fentes lourdes).</li>
        </ul>

        <h3>ğŸ¦µ Lunges (fentes)</h3>
        <ul>
          <li>travail technique (genou alignÃ©, buste droit),</li>
          <li>progression : sans charge â†’ avec charge,</li>
          <li>option : marcher avec sac Ã  dos chargÃ©.</li>
        </ul>

        <h3>ğŸ¯ Wall balls</h3>
        <ul>
          <li>ou squats + lancÃ© de ballon/mÃ©decine ball,</li>
          <li>bien caler profondeur de squat + trajectoire du lancer.</li>
        </ul>

        <h3>ğŸ’€ Burpee broad jumps</h3>
        <ul>
          <li>apprendre un <strong>mouvement Ã©conomique</strong>,</li>
          <li>ne pas sauter trop loin, mais rester constant.</li>
        </ul>

        <h2>5ï¸âƒ£ Faire des â€œsimulations Hyroxâ€</h2>
        <p>Pour prÃ©parer le corps et la tÃªte :</p>
        <ul>
          <li>Session type : 4 km de course + 4 stations (format rÃ©duit),</li>
          <li>ou 6 Ã— (500 m course + 1 station diffÃ©rente Ã  chaque fois),</li>
          <li>objectif : enchaÃ®ner sans sâ€™arrÃªter complÃ¨tement.</li>
        </ul>

        <h2>6ï¸âƒ£ Erreurs classiques Ã  Ã©viter</h2>
        <ul>
          <li>partir trop vite sur les premiers km,</li>
          <li>faire les premiÃ¨res stations â€œen mode testostÃ©roneâ€,</li>
          <li>nÃ©gliger la course au profit uniquement des stations,</li>
          <li>ou lâ€™inverse : Ãªtre bon coureur mais jamais travailler le traÃ®neau / les lunges,</li>
          <li>oublier de sâ€™hydrater (mÃªme en indoor).</li>
        </ul>

        <h2>7ï¸âƒ£ Ã€ quelle frÃ©quence tâ€™entraÃ®ner ?</h2>
        <ul>
          <li>DÃ©butant : 3 sÃ©ances / semaine (1 course, 1 stations, 1 renfo),</li>
          <li>IntermÃ©diaire : 4 sÃ©ances / semaine (1 course, 2 mixtes/stations, 1 renfo),</li>
          <li>+ sommeil et nutrition minimales correctes.</li>
        </ul>

        <p>
          âœ Si tu es rÃ©gulier pendant 8 semaines avec cette structure, tu seras prÃªt pour un premier Hyrox solide.
        </p>

      </div>

      <!-- FOOTER GAMIF -->
      <div class="article-footer-note">
        <span class="bullet-pill">ğŸ® Gamification locale</span>
        <span>Lecture, quiz et partage = XP gagnÃ©e.</span>
      </div>

      <button class="btn btn-secondary" id="mark-article-read">
        âœ“ Jâ€™ai lu cet article (gagner de lâ€™XP)
      </button>

      <div style="margin-top:12px;">
        <button class="btn btn-primary" id="share-article">ğŸ”— Partager cet article / quiz</button>
        <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
      </div>

    </article>


    <!-- QUIZ -->
    <section class="quiz-card" id="quiz-section">

      <div class="quiz-header">
        <div>
          <div class="quiz-title">Quiz express : PrÃ©parer son premier Hyrox</div>
          <div class="quiz-caption">5 questions pour vÃ©rifier que tout est clair.</div>
        </div>
        <div class="quiz-badge">ğŸ 5 questions Â· 3 min</div>
      </div>

      <div id="quiz-progress" class="quiz-progress">Question 1 sur 5</div>
      <form id="quiz-form"></form>

      <div class="quiz-footer">
        <div class="quiz-actions">
          <button id="quiz-submit" type="button" class="btn btn-primary">Valider</button>
          <button id="quiz-reset" type="button" class="btn btn-secondary">Recommencer</button>
        </div>
        <div id="quiz-result" class="quiz-result">RÃ©ponds, puis valide pour voir ton score.</div>
      </div>

      <div id="quiz-feedback" class="quiz-feedback"></div>
    </section>

  </main>
</div>

<!-- SCRIPTS -->
<script src="../js/acad-gamification.js"></script>
<script src="../js/acad-firebase-sync.js"></script>

<script>
const ARTICLE_ID = "hyrox-preparer-premiere-course";

const quizData = [
  {
    id: 1,
    question: "Le format Hyrox standard, câ€™est :",
    options: [
      "10 km de course sans station",
      "8 Ã— 1 km de course + 8 stations",
      "Uniquement du rameur",
      "Une simple course 5 km"
    ],
    correctIndex: 1
  },
  {
    id: 2,
    question: "Combien de sÃ©ances par semaine pour prÃ©parer un premier Hyrox (dÃ©butant) ?",
    options: [
      "1 sÃ©ance",
      "2 sÃ©ances",
      "3 sÃ©ances environ",
      "7 sÃ©ances"
    ],
    correctIndex: 2
  },
  {
    id: 3,
    question: "Quels sont les 3 piliers principaux Ã  travailler ?",
    options: [
      "Yoga, stretching, mÃ©ditation",
      "Course, stations fonctionnelles, gestion de lâ€™allure",
      "Uniquement la force max",
      "Uniquement la vitesse pure"
    ],
    correctIndex: 1
  },
  {
    id: 4,
    question: "Une 'simulation Hyrox' sert surtout Ã  :",
    options: [
      "Tester le chrono sur 10 km",
      "EnchaÃ®ner course + stations pour prÃ©parer le corps et la tÃªte",
      "Faire uniquement du traÃ®neau",
      "Faire une sÃ©ance de musculation isolÃ©e"
    ],
    correctIndex: 1
  },
  {
    id: 5,
    question: "Erreur classique Ã  Ã©viter sur un premier Hyrox :",
    options: [
      "Partir trÃ¨s vite sur les premiers km",
      "Adapter son allure",
      "Boire un peu dâ€™eau",
      "Sâ€™Ã©chauffer avant la course"
    ],
    correctIndex: 0
  }
];

function renderQuiz(){
  const form = document.getElementById("quiz-form");
  form.innerHTML = "";

  quizData.forEach((q, i)=>{
    const block = document.createElement("div");
    block.className = "quiz-question";
    block.dataset.questionId = q.id;

    block.innerHTML = `
      <div class="quiz-question-header">
        <div class="quiz-question-label">Q${i+1}. ${q.question}</div>
        <div class="quiz-question-meta">1 seule rÃ©ponse</div>
      </div>
      <div class="quiz-options">
        ${q.options.map((opt,idx)=>`
          <label class="quiz-option">
            <input type="radio" name="question-${q.id}" value="${idx}">
            <span>${opt}</span>
          </label>
        `).join("")}
      </div>
    `;
    form.appendChild(block);
  });

  document.getElementById("quiz-progress").textContent =
    "Question 1 sur " + quizData.length;
}

renderQuiz();

document.getElementById("quiz-form").addEventListener("change", ()=>{
  const answered = quizData.filter(q =>
    [...document.querySelectorAll(`input[name="question-${q.id}"]`)]
      .some(r=>r.checked)
  ).length;

  document.getElementById("quiz-progress").textContent =
    `Question ${answered || 1} sur ${quizData.length}`;
});

document.getElementById("quiz-submit").addEventListener("click", ()=>{
  let score = 0;

  document.querySelectorAll(".quiz-option").forEach(o =>
    o.classList.remove("correct","incorrect")
  );

  quizData.forEach(q=>{
    const selected = [...document.querySelectorAll(
      `input[name="question-${q.id}"]`
    )].find(r=>r.checked);

    const block = document.querySelector(
      `.quiz-question[data-question-id="${q.id}"]`
    );
    const opts = block.querySelectorAll(".quiz-option");

    if(selected && parseInt(selected.value, 10) === q.correctIndex){
      score++;
      opts[q.correctIndex].classList.add("correct");
    } else {
      opts[q.correctIndex].classList.add("correct");
      if(selected) opts[selected.value].classList.add("incorrect");
    }
  });

  const total = quizData.length;
  const ratio = score / total;

  const msg =
    ratio === 1 ? "Parfait ! Tu es prÃªt(e) Ã  structurer une vraie prÃ©pa Hyrox ğŸ" :
    ratio >= 0.7 ? "TrÃ¨s bon score, tu as bien compris le format." :
    ratio >= 0.4 ? "Pas mal, relis certains passages et retente." :
    "Relis lâ€™article tranquillement, puis refais le quiz.";

  document.getElementById("quiz-result").innerHTML =
    `<strong>${score}/${total}</strong> â€¢ ${msg}`;

  if(window.acadGamification)
    window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);

  document.getElementById("quiz-feedback").textContent =
    ratio === 1 ? "ğŸ® XP bonus ajoutÃ©e !" :
    "Tu peux viser le perfect la prochaine fois ğŸ‘";
});

document.getElementById("quiz-reset").addEventListener("click", renderQuiz);

document.getElementById("mark-article-read").addEventListener("click", ()=>{
  if(window.acadGamification)
    window.acadGamification.markArticleRead(ARTICLE_ID, 20);

  const btn = document.getElementById("mark-article-read");
  btn.textContent = "âœ“ Article comptÃ© pour lâ€™XP locale";
  btn.disabled = true;
});

document.getElementById("share-article").addEventListener("click", async ()=>{
  if(window.acadGamification)
    window.acadGamification.registerShare(ARTICLE_ID, 15);

  const feedback = document.getElementById("share-feedback");

  const data = {
    title: "A-CadÃ©mie â€” Hyrox : comment prÃ©parer sa premiÃ¨re course",
    text: "Plan simple + conseils + quiz pour un premier Hyrox rÃ©ussi.",
    url: window.location.href
  };

  if (navigator.share){
    try {
      await navigator.share(data);
      feedback.textContent = "Merci pour ton partage ! (XP ajoutÃ©e)";
    } catch {
      feedback.textContent = "Partage annulÃ©.";
    }
  } else {
    feedback.textContent =
      "Partage automatique non disponible sur cet appareil.";
  }
});
</script>

</body>
</html>
