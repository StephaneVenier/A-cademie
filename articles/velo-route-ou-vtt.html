<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-Cad√©mie ‚Äî V√©lo de route ou VTT : lequel choisir ?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>

<body>
<div class="page">

  <!-- HEADER -->
  <header class="acad-header">
    <a href="../index.html" class="brand" style="text-decoration:none;">
      <div class="brand-logo">A</div>
      <div>
        <div class="brand-text-title">A-Cad√©mie</div>
        <div class="brand-text-sub">Endurance & Outdoor ‚Äî Article + Quiz</div>
      </div>
    </a>

    <nav class="acad-nav">
      <a class="nav-btn" href="../index.html"><span class="dot"></span> Accueil</a>
      <a class="nav-btn primary" href="../articles.html">Articles</a>
      <a class="nav-btn" href="../recompenses.html">R√©compenses</a>
    </nav>

    <div id="acad-profile" class="profile-card">
      <div class="profile-main">
        <div class="profile-avatar">üö¥‚Äç‚ôÇÔ∏è</div>
        <div>
          <div class="profile-level">Niveau <span id="acad-level">1</span></div>
          <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
        </div>
      </div>
      <div class="profile-progress-wrapper">
        <div class="profile-progress-bar">
          <div class="profile-progress-fill" id="acad-xp-bar"></div>
        </div>
        <div class="profile-progress-label">
          <span>Vers niveau <span id="acad-next-level">2</span></span>
          <span id="acad-xp-to-next">0 / 100</span>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="layout">

    <!-- ARTICLE -->
    <article class="article-card">

      <div class="article-meta">
        <span class="tag"><span class="tag-dot"></span> Endurance & Outdoor ‚Äî V√©lo</span>
        <span class="chip">Lecture : 7‚Äì8 min</span>
        <span class="chip">Niveau : D√©butant / Interm√©diaire</span>
      </div>

      <h1 class="article-title">V√©lo de route ou VTT : lequel choisir ?</h1>
      <p class="article-subtitle">
        Tu veux te mettre au v√©lo pour le plaisir, le cardio ou pr√©parer tes entra√Ænements ?
        Entre v√©lo de route et VTT, le choix n‚Äôest pas toujours √©vident.  
        On fait le point simplement : profils, terrains, sensations, co√ªt, polyvalence.
      </p>

      <div class="article-highlight">
        <strong>√Ä retenir :</strong> il n‚Äôy a pas de ‚Äúmeilleur‚Äù v√©lo en g√©n√©ral, seulement le v√©lo
        le plus adapt√© √† <strong>ton terrain, ton budget et ton style de pratique</strong>.
      </div>

      <div class="article-content">

        <h2>1Ô∏è‚É£ Les bases : quelles diff√©rences ?</h2>
        <p><strong>V√©lo de route :</strong></p>
        <ul>
          <li>Pneus fins, lisses, haute pression</li>
          <li>Position plus allong√©e, guidon recourb√© (‚Äúdrop‚Äù)</li>
          <li>Optimis√© pour la vitesse sur bitume</li>
        </ul>

        <p><strong>VTT (V√©lo Tout Terrain) :</strong></p>
        <ul>
          <li>Pneus larges avec crampons</li>
          <li>Position plus droite, guidon plat</li>
          <li>Con√ßu pour les chemins, sentiers, terrains irr√©guliers</li>
        </ul>

        <h2>2Ô∏è‚É£ Quel v√©lo pour quel type de terrain ?</h2>
        <p>
          <strong>V√©lo de route</strong> si tu roules surtout sur :
        </p>
        <ul>
          <li>routes goudronn√©es</li>
          <li>pistes cyclables propres</li>
          <li>longues distances sur bitume</li>
        </ul>

        <p>
          <strong>VTT</strong> si tu roules surtout sur :
        </p>
        <ul>
          <li>chemins forestiers, sentiers</li>
          <li>pistes caillouteuses</li>
          <li>terrains boueux, racines, descentes techniquement plus engag√©es</li>
        </ul>

        <p>
          Si ton environnement est tr√®s mixte (bitume + chemins), un VTT ou un <strong>gravel</strong> (entre-deux)
          peut √™tre plus adapt√© qu‚Äôun pur v√©lo de route.
        </p>

        <h2>3Ô∏è‚É£ Objectif : cardio, performance ou fun ?</h2>
        <p><strong>Pour le cardio pur et les longues sorties</strong> :</p>
        <ul>
          <li>Le v√©lo de route est plus efficace : tu roules plus vite, plus loin, √† effort √©quivalent.</li>
        </ul>

        <p><strong>Pour le fun et la technique</strong> :</p>
        <ul>
          <li>Le VTT apporte du jeu, des relances, du travail d‚Äô√©quilibre et de guidage.</li>
        </ul>

        <p>
          Pour un coureur √† pied, les deux sont int√©ressants :  
          ‚Äì route = travail d‚Äôendurance stable  
          ‚Äì VTT = renforcement musculaire, cardio par √†-coups, travail de c√¥te
        </p>

        <h2>4Ô∏è‚É£ Budget et entretien</h2>
        <p>
          <strong>Budget de d√©part</strong> (ordre d‚Äôid√©e) :
        </p>
        <ul>
          <li>VTT entr√©e de gamme loisir : souvent un peu moins cher</li>
          <li>V√©lo de route correct : un peu plus cher √† √©quipement √©quivalent</li>
        </ul>

        <p>
          <strong>Entretien</strong> :
        </p>
        <ul>
          <li>Route : transmission + pneus, mais v√©lo moins expos√© √† la boue</li>
          <li>VTT : plus de nettoyage (terre, boue), pneus plus sollicit√©s, suspensions √† entretenir sur certains mod√®les</li>
        </ul>

        <h2>5Ô∏è‚É£ Polyvalence</h2>
        <p>
          Pour une pratique tr√®s vari√©e (routes, chemins faciles, loisirs) :
        </p>
        <ul>
          <li>Un VTT avec pneus adapt√©s (‚Äúsemi-slick‚Äù) peut tr√®s bien faire le job.</li>
          <li>Un v√©lo de route sera limit√© sur les chemins vraiment cassants.</li>
        </ul>

        <p>
          Si tu as un seul v√©lo et que tu aimes aussi la nature, le VTT ou un gravel polyvalent
          est souvent un bon premier choix.
        </p>

        <h2>6Ô∏è‚É£ Comment d√©cider en 3 questions</h2>
        <ol>
          <li><strong>O√π rouleras-tu 70 % du temps ?</strong> (routes / chemins / mix)</li>
          <li><strong>Qu‚Äôest-ce qui te motive le plus ?</strong> (vitesse / paysage / technique / jeu)</li>
          <li><strong>Es-tu pr√™t √† nettoyer r√©guli√®rement ton v√©lo ?</strong> (VTT = plus de nettoyage)</li>
        </ol>

        <p>
          R√©ponds honn√™tement √† ces questions, et ton choix sera d√©j√† beaucoup plus clair.
        </p>

      </div>

      <div class="article-footer-note">
        <span class="bullet-pill">üéÆ Gamification locale</span>
        <span>Lecture, quiz et partage = XP gagn√©e sur cet appareil.</span>
      </div>

      <button type="button" class="btn btn-secondary" id="mark-article-read">
        ‚úì J‚Äôai lu cet article (gagner de l‚ÄôXP)
      </button>

      <div style="margin-top:12px;">
        <button type="button" class="btn btn-primary" id="share-article">
          üîó Partager cet article / quiz
        </button>
        <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
      </div>

    </article>


    <!-- QUIZ -->
    <section class="quiz-card" id="quiz-section">

      <div class="quiz-header">
        <div class="quiz-left">
          <div class="quiz-title">Quiz express : V√©lo de route ou VTT ?</div>
          <div class="quiz-caption">5 questions pour voir si tu as bien compris les diff√©rences.</div>
        </div>
        <div class="quiz-badge">‚ö° 5 questions ¬∑ 3 min</div>
      </div>

      <div class="quiz-progress" id="quiz-progress">Question 1 sur 5</div>
      <form id="quiz-form"></form>

      <div class="quiz-footer">
        <div class="quiz-actions">
          <button type="button" class="btn btn-primary" id="quiz-submit">
            Valider mes r√©ponses
          </button>
          <button type="button" class="btn btn-secondary" id="quiz-reset">
            Recommencer le quiz
          </button>
        </div>
        <div class="quiz-result" id="quiz-result">
          R√©ponds aux questions puis valide pour voir ton score.
        </div>
      </div>

      <div class="quiz-feedback" id="quiz-feedback"></div>
    </section>

  </main>
</div>

<!-- GAMIFICATION SCRIPTS -->
<script src="../js/acad-gamification.js"></script>
<script src="../js/acad-firebase-sync.js"></script>

<script>
  const ARTICLE_ID = "velo-route-ou-vtt";

  const quizData = [
    {
      id: 1,
      question: "Le v√©lo de route est surtout optimis√© pour :",
      options: [
        "Les chemins boueux",
        "Les sentiers techniques",
        "La vitesse sur bitume",
        "Les sauts et descentes engag√©es"
      ],
      correctIndex: 2
    },
    {
      id: 2,
      question: "Le VTT est particuli√®rement adapt√© pour :",
      options: [
        "Les pistes cyclables lisses uniquement",
        "Les chemins, sentiers et terrains irr√©guliers",
        "Les pistes d‚Äôathl√©tisme",
        "La piste indoor exclusivement"
      ],
      correctIndex: 1
    },
    {
      id: 3,
      question: "Pour un terrain tr√®s mixte (route + chemins faciles), lequel est le plus polyvalent ?",
      options: [
        "Un VTT ou un gravel",
        "Uniquement un v√©lo de route comp√©tition",
        "Un VTT de descente avec gros d√©battement",
        "Aucun n‚Äôest adapt√©"
      ],
      correctIndex: 0
    },
    {
      id: 4,
      question: "Le v√©lo de route est g√©n√©ralement :",
      options: [
        "Plus rapide et efficace sur bitume",
        "Plus lent sur bitume que le VTT",
        "Identique en vitesse au VTT sur route",
        "R√©serv√© aux professionnels"
      ],
      correctIndex: 0
    },
    {
      id: 5,
      question: "Que doit guider ton choix en priorit√© ?",
      options: [
        "La couleur du cadre",
        "Ce que prennent tes amis",
        "Ton terrain principal, ta pratique et ton budget",
        "Le nombre de porte-bidons"
      ],
      correctIndex: 2
    }
  ];

  const quizForm = document.getElementById("quiz-form");
  const quizProgress = document.getElementById("quiz-progress");
  const quizResult = document.getElementById("quiz-result");
  const quizFeedback = document.getElementById("quiz-feedback");
  const submitBtn = document.getElementById("quiz-submit");
  const resetBtn = document.getElementById("quiz-reset");

  function renderQuiz() {
    quizForm.innerHTML = "";
    quizData.forEach((q, index) => {
      const div = document.createElement("div");
      div.className = "quiz-question";
      div.dataset.questionId = q.id;

      div.innerHTML = `
        <div class="quiz-question-header">
          <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
          <div class="quiz-question-meta">1 seule bonne r√©ponse</div>
        </div>
        <div class="quiz-options">
          ${q.options
            .map(
              (opt, i) => `
                <label class="quiz-option">
                  <input type="radio" name="question-${q.id}" value="${i}">
                  <span>${opt}</span>
                </label>
              `
            )
            .join("")}
        </div>
      `;

      quizForm.appendChild(div);
    });

    quizProgress.textContent = "Question 1 sur " + quizData.length;
    quizResult.textContent = "R√©ponds aux questions puis valide pour voir ton score.";
    quizFeedback.textContent = "";
  }

  function updateProgress() {
    const answered = quizData.filter(q =>
      [...document.querySelectorAll(\`input[name="question-\${q.id}"]\`)]
        .some(r => r.checked)
    ).length;

    quizProgress.textContent = \`Question \${answered || 1} sur \${quizData.length}\`;
  }

  quizForm.addEventListener("change", updateProgress);

  function evaluateQuiz() {
    let score = 0;

    document.querySelectorAll(".quiz-option").forEach(opt =>
      opt.classList.remove("correct", "incorrect")
    );

    quizData.forEach(q => {
      const radios = document.querySelectorAll(\`input[name="question-\${q.id}"]\`);
      let selected = null;
      radios.forEach((r, i) => { if (r.checked) selected = i; });

      const block = document.querySelector(\`.quiz-question[data-question-id="\${q.id}"]\`);
      const opts = block.querySelectorAll(".quiz-option");

      if (selected === q.correctIndex) {
        score++;
        opts[selected]?.classList.add("correct");
      } else {
        opts[q.correctIndex]?.classList.add("correct");
        if (selected !== null) opts[selected]?.classList.add("incorrect");
      }
    });

    const total = quizData.length;
    const ratio = score / total;

    let msg =
      ratio === 1 ? "Parfait ! Tu as bien compris les diff√©rences üö¥‚Äç‚ôÇÔ∏è" :
      ratio >= 0.7 ? "Tr√®s bon score !" :
      ratio >= 0.4 ? "Pas mal, mais relis certains passages." :
      "Relis l‚Äôarticle puis retente le quiz.";

    quizResult.innerHTML = \`<strong>\${score}/\${total}</strong> bonnes r√©ponses ‚Ä¢ \${msg}\`;

    if (window.acadGamification)
      window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);

    quizFeedback.textContent =
      ratio === 1 ? "üéÆ Bravo ! XP bonus ajout√©e." : "Tu peux recommencer pour viser le 100 %.";
  }

  submitBtn.addEventListener("click", evaluateQuiz);
  resetBtn.addEventListener("click", renderQuiz);

  // Lecture
  const readBtn = document.getElementById("mark-article-read");
  if (readBtn) {
    readBtn.addEventListener("click", () => {
      if (window.acadGamification)
        window.acadGamification.markArticleRead(ARTICLE_ID, 20);

      readBtn.textContent = "‚úì Article compt√© pour l‚ÄôXP locale";
      readBtn.disabled = true;
    });
  }

  // Partage
  const shareBtn = document.getElementById("share-article");
  const shareFeedback = document.getElementById("share-feedback");

  if (shareBtn) {
    shareBtn.addEventListener("click", async () => {
      if (window.acadGamification)
        window.acadGamification.registerShare(ARTICLE_ID, 15);

      const data = {
        title: "A-Cad√©mie ‚Äî V√©lo de route ou VTT",
        text: "Un guide simple pour choisir entre v√©lo de route et VTT + quiz express.",
        url: window.location.href
      };

      if (navigator.share) {
        try {
          await navigator.share(data);
          shareFeedback.textContent = "Merci pour le partage ! (XP ajout√©e)";
        } catch {
          shareFeedback.textContent = "Partage annul√©.";
        }
      } else {
        shareFeedback.textContent = "Le partage automatique n‚Äôest pas disponible. Copie le lien si besoin.";
      }
    });
  }

  // Init
  renderQuiz();
</script>

</body>
</html>
