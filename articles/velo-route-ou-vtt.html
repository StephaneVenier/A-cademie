<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-Cad√©mie ‚Äî V√©lo de route ou VTT : que choisir ?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- On est dans /articles ‚Üí chemins relatifs vers /css et /js -->
  <link rel="stylesheet" href="../css/acad-style.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>
<body>
  <div class="page">
    <header class="acad-header">
      <a href="../index.html" class="brand" style="text-decoration:none;">
        <div class="brand-logo">A</div>
        <div>
          <div class="brand-text-title">A-Cad√©mie</div>
          <div class="brand-text-sub">Articles & quiz sportifs en libre acc√®s</div>
        </div>
      </a>

      <nav class="acad-nav">
        <a class="nav-btn" href="../index.html"><span class="dot"></span> Accueil</a>
        <a class="nav-btn primary" href="../articles.html">Articles</a>
        <a class="nav-btn" href="../recompenses.html">R√©compenses</a>
      </nav>

      <div id="acad-profile" class="profile-card">
        <div class="profile-main">
          <div class="profile-avatar">A</div>
          <div>
            <div class="profile-level">Niveau <span id="acad-level">1</span></div>
            <div class="profile-xp">
              <span id="acad-xp">0</span> XP locale
            </div>
          </div>
        </div>
        <div class="profile-progress-wrapper">
          <div class="profile-progress-bar">
            <div class="profile-progress-fill" id="acad-xp-bar"></div>
          </div>
          <div class="profile-progress-label">
            <span>Vers niveau <span id="acad-next-level">2</span></span>
            <span id="acad-xp-to-next">0 / 100</span>
          </div>
        </div>
      </div>
    </header>

    <main class="layout">
      <article class="article-card">
        <div class="article-meta">
          <span class="tag"><span class="tag-dot"></span> Cyclisme</span>
          <span class="chip">Lecture : 6‚Äì7 min</span>
          <span class="chip">Niveau : D√©butant</span>
        </div>

        <h1 class="article-title">V√©lo de route ou VTT : que choisir ?</h1>
        <p class="article-subtitle">
          Tu veux te remettre au v√©lo ou acheter ton premier vrai v√©lo, mais tu h√©sites entre un v√©lo de route et un VTT ?
          Voici un guide simple pour choisir en fonction de ton usage, de ton terrain de jeu et de ton envie de pratique.
        </p>

        <div class="article-highlight">
          <strong>√Ä retenir :</strong> il n‚Äôy a pas un ‚Äúmeilleur‚Äù v√©lo, il y a surtout le v√©lo le plus adapt√© √† ce que tu vas faire le plus souvent.
        </div>

        <div class="article-content">
          <h2>1Ô∏è‚É£ V√©lo de route : pour quoi faire ?</h2>
          <p>Le v√©lo de route est con√ßu pour rouler vite et longtemps sur‚Ä¶ la route (ou pistes cyclables lisses).</p>
          <ul>
            <li><strong>Objectif :</strong> distance, vitesse, r√©gularit√©.</li>
            <li><strong>Terrain :</strong> bitume, routes de campagne, cols, pistes cyclables.</li>
            <li><strong>Position :</strong> plus pench√©e, plus a√©rodynamique.</li>
            <li><strong>Pneus :</strong> fins et lisses, faible r√©sistance au roulement.</li>
          </ul>
          <p>
            Id√©al si tu veux surtout faire des sorties ‚Äúcardio‚Äù sur route, accumuler des kilom√®tres,
            te lancer sur des cyclosportives ou rouler en groupe.
          </p>

          <h2>2Ô∏è‚É£ VTT : pour quoi faire ?</h2>
          <p>Le VTT (V√©lo Tout Terrain) est fait pour sortir de la route et aller sur des chemins plus ou moins techniques.</p>
          <ul>
            <li><strong>Objectif :</strong> d√©couverte, nature, terrain vari√©.</li>
            <li><strong>Terrain :</strong> chemins, for√™ts, pistes, sentiers, parfois technique.</li>
            <li><strong>Position :</strong> plus droite, plus s√©curisante pour un d√©butant.</li>
            <li><strong>Pneus :</strong> plus larges, crampons pour l‚Äôaccroche.</li>
          </ul>
          <p>
            Id√©al si tu aimes la for√™t, les chemins, les petites bosses et l‚Äôaspect ludique du pilotage.
          </p>

          <h2>3Ô∏è‚É£ √Ä quoi ressemble vraiment ta pratique ?</h2>
          <p>Avant de choisir, pose-toi ces questions :</p>
          <ul>
            <li>Je vais rouler <strong>o√π</strong> le plus souvent ? Route, chemins, mix des deux ?</li>
            <li>Je pr√©f√®re rouler <strong>plut√¥t long et r√©gulier</strong> ou <strong>plut√¥t court et ludique</strong> ?</li>
            <li>Je roule seul, en groupe, avec des amis d√©j√† √©quip√©s ? (et ils ont quoi comme v√©lo ?)</li>
          </ul>
          <p>
            Exemple :
          </p>
          <ul>
            <li>Si tu habites en ville ou proche de longues routes calmes ‚Üí le v√©lo de route prend l‚Äôavantage.</li>
            <li>Si tu as des bois / chemins tr√®s accessibles pr√®s de chez toi ‚Üí le VTT devient tr√®s logique.</li>
          </ul>

          <h2>4Ô∏è‚É£ Confort, s√©curit√©, prise en main</h2>
          <h3>V√©lo de route</h3>
          <ul>
            <li>Position plus pench√©e, qui peut surprendre au d√©but.</li>
            <li>Guidon ‚Äúdrop‚Äù (recourb√©) qui offre plusieurs positions des mains.</li>
            <li>Moins tol√©rant sur les nids-de-poule et routes tr√®s d√©grad√©es.</li>
          </ul>

          <h3>VTT</h3>
          <ul>
            <li>Position plus droite ‚Üí plus rassurante pour beaucoup de d√©butants.</li>
            <li>Guidon plat large ‚Üí direction stable, sensation de contr√¥le.</li>
            <li>Roue + pneus plus larges ‚Üí plus de confort et d‚Äôamorti.</li>
          </ul>

          <h2>5Ô∏è‚É£ Polyvalence : peut-on tout faire avec un seul v√©lo ?</h2>
          <p>
            Si tu veux un v√©lo ‚Äú√† tout faire‚Äù, il existe quelques options hybrides (gravel, VTC, VTT semi-slick, etc.).
            Mais m√™me sans aller sur ces cat√©gories, tu peux adapter un peu ton choix :
          </p>
          <ul>
            <li>Un <strong>VTT avec pneus moins cramponn√©s</strong> peut rouler correctement sur route et tr√®s bien sur chemin.</li>
            <li>Un <strong>v√©lo de route avec pneus un peu plus larges</strong> (type endurance) peut encaisser des routes moyennes.</li>
          </ul>
          <p>
            Si tu d√©butes et que tu n‚Äôes pas s√ªr de ton terrain de jeu, un <strong>VTT semi-rigide</strong> (suspension avant, pas arri√®re)
            est souvent la solution la plus rassurante et polyvalente.
          </p>

          <h2>6Ô∏è‚É£ Budget et entretien</h2>
          <p>
            √Ä gamme √©quivalente, v√©lo de route et VTT peuvent √™tre proches en prix, mais :
          </p>
          <ul>
            <li>Le VTT a parfois plus de pi√®ces expos√©es (suspension, freins √† disque, etc.).</li>
            <li>Le v√©lo de route use un peu moins vite certains √©l√©ments si tu roules sur route propre.</li>
          </ul>
          <p>
            Ce qui compte surtout : <strong>acheter un mod√®le de base correct</strong>, bien r√©vis√©,
            plut√¥t qu‚Äôun v√©lo trop vieux ou mal entretenu.
          </p>

          <h2>7Ô∏è‚É£ Comment trancher si tu h√©sites encore ?</h2>
          <ul>
            <li>Liste <strong>3 sorties typiques</strong> que tu feras le plus souvent ‚Üí route ou chemins ?</li>
            <li>Regarde <strong>ce que font tes partenaires</strong> (amis, club) : avoir le m√™me type de v√©lo aide.</li>
            <li>Demande √† tester un v√©lo de chaque type (location, pr√™t, magasin).</li>
          </ul>
          <p>
            Si ton c≈ìur balance vraiment, que tu aimes la nature et que la performance pure n‚Äôest pas ta priorit√©,
            le <strong>VTT est souvent le meilleur premier choix</strong> pour un adulte d√©butant.
          </p>

          <h2>8Ô∏è‚É£ En r√©sum√©</h2>
          <ul>
            <li><strong>V√©lo de route :</strong> id√©al si tu veux surtout rouler sur route, faire du cardio, des sorties longues et r√©guli√®res.</li>
            <li><strong>VTT :</strong> id√©al si tu veux explorer les chemins, la nature, et une pratique plus ludique.</li>
          </ul>
          <p>
            Le plus important n‚Äôest pas d‚Äôavoir le ‚Äúparfait‚Äù v√©lo, mais celui qui te donnera envie de sortir souvent.
          </p>
        </div>

        <div class="article-footer-note">
          <span class="bullet-pill">üéÆ Gamification locale</span>
          <span>Lecture, quiz et partage de cet article te donnent de l‚ÄôXP sur cet appareil.</span>
        </div>

        <button type="button" class="btn btn-secondary" id="mark-article-read">
          ‚úì J‚Äôai lu cet article (gagner de l‚ÄôXP)
        </button>

        <div style="margin-top:12px;">
          <button type="button" class="btn btn-primary" id="share-article">
            üîó Partager cet article / quiz
          </button>
          <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
        </div>
      </article>

      <!-- Quiz -->
      <section class="quiz-card" id="quiz-section">
        <div class="quiz-header">
          <div class="quiz-left">
            <div class="quiz-title">Quiz express : V√©lo de route ou VTT ?</div>
            <div class="quiz-caption">5 questions pour voir si tu as bien compris les diff√©rences.</div>
          </div>
          <div class="quiz-badge">üö¥‚Äç‚ôÇÔ∏è 5 questions ¬∑ 3‚Äì4 min</div>
        </div>

        <div class="quiz-progress" id="quiz-progress">
          Question 1 sur 5
        </div>

        <form id="quiz-form"></form>

        <div class="quiz-footer">
          <div class="quiz-actions">
            <button type="button" class="btn btn-primary" id="quiz-submit">
              Valider mes r√©ponses
            </button>
            <button type="button" class="btn btn-secondary" id="quiz-reset">
              Recommencer le quiz
            </button>
          </div>
          <div class="quiz-result" id="quiz-result">
            R√©ponds aux questions puis valide pour voir ton score.
          </div>
        </div>

        <div class="quiz-feedback" id="quiz-feedback"></div>
      </section>
    </main>
  </div>

  <script src="../js/acad-gamification.js"></script>
  <script src="../js/acad-firebase-sync.js"></script>
  <script>
    const ARTICLE_ID = "velo-route-ou-vtt";

    const quizData = [
      {
        id: 1,
        question: "Le v√©lo de route est surtout adapt√© pour‚Ä¶",
        options: [
          "Les chemins techniques en for√™t",
          "Les routes, les cols et les pistes cyclables",
          "Les descentes tr√®s caillouteuses",
          "Les sauts et les bosses"
        ],
        correctIndex: 1
      },
      {
        id: 2,
        question: "Le VTT se distingue notamment par‚Ä¶",
        options: [
          "Des pneus tr√®s fins et lisses",
          "Une position tr√®s allong√©e pour √™tre a√©rodynamique",
          "Des pneus plus larges et cramponn√©s",
          "L‚Äôabsence de freins"
        ],
        correctIndex: 2
      },
      {
        id: 3,
        question: "Si tu aimes surtout la nature et les chemins proches de chez toi, le plus logique est souvent‚Ä¶",
        options: [
          "Le v√©lo de route pur",
          "Le VTT (surtout en version semi-rigide)",
          "Un v√©lo sans vitesses",
          "Un v√©lo de piste"
        ],
        correctIndex: 1
      },
      {
        id: 4,
        question: "Quelle affirmation est la plus juste ?",
        options: [
          "Il existe un v√©lo parfait qui convient √† tout le monde",
          "Le choix d√©pend surtout de l‚Äôusage et du terrain que tu vas fr√©quenter",
          "Le v√©lo le plus cher est forc√©ment le plus adapt√©",
          "V√©lo de route et VTT sont exactement identiques"
        ],
        correctIndex: 1
      },
      {
        id: 5,
        question: "Si tu h√©sites vraiment entre route et chemins, quel conseil est coh√©rent ?",
        options: [
          "Acheter tout de suite deux v√©los haut de gamme",
          "Ne rien acheter et attendre plusieurs ann√©es",
          "Prendre un VTT polyvalent, rassurant, et voir comment √©volue ta pratique",
          "Choisir au hasard"
        ],
        correctIndex: 2
      }
    ];

    const quizForm = document.getElementById("quiz-form");
    const quizProgress = document.getElementById("quiz-progress");
    const quizResult = document.getElementById("quiz-result");
    const quizFeedback = document.getElementById("quiz-feedback");
    const submitBtn = document.getElementById("quiz-submit");
    const resetBtn = document.getElementById("quiz-reset");

    function renderQuiz() {
      quizForm.innerHTML = "";
      quizData.forEach((q, index) => {
        const questionDiv = document.createElement("div");
        questionDiv.className = "quiz-question";
        questionDiv.dataset.questionId = q.id;

        questionDiv.innerHTML = `
          <div class="quiz-question-header">
            <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
            <div class="quiz-question-meta">1 seule bonne r√©ponse</div>
          </div>
          <div class="quiz-options">
            ${q.options
              .map(
                (opt, optIndex) => `
              <label class="quiz-option">
                <input type="radio" name="question-${q.id}" value="${optIndex}">
                <span>${opt}</span>
              </label>
            `
              )
              .join("")}
          </div>
        `;

        quizForm.appendChild(questionDiv);
      });

      quizProgress.textContent = "Question 1 sur " + quizData.length;
      quizResult.innerHTML = "R√©ponds aux questions puis valide pour voir ton score.";
      quizFeedback.textContent = "";
    }

    function updateProgress() {
      const total = quizData.length;
      const answered = quizData.filter((q) => {
        const radios = document.querySelectorAll('input[name="question-' + q.id + '"]');
        return Array.from(radios).some((r) => r.checked);
      }).length;

      const current = Math.max(1, answered);
      quizProgress.textContent = "Question " + current + " sur " + total;
    }

    quizForm.addEventListener("change", updateProgress);

    function evaluateQuiz() {
      let score = 0;
      const total = quizData.length;

      document.querySelectorAll(".quiz-option").forEach((opt) => {
        opt.classList.remove("correct", "incorrect");
      });

      quizData.forEach((q) => {
        const radios = document.querySelectorAll('input[name="question-' + q.id + '"]');
        let selectedIndex = null;

        radios.forEach((r, idx) => {
          if (r.checked) selectedIndex = idx;
        });

        const questionDiv = document.querySelector('.quiz-question[data-question-id="' + q.id + '"]');
        const optionLabels = questionDiv.querySelectorAll(".quiz-option");

        if (selectedIndex === q.correctIndex) {
          score++;
          if (selectedIndex !== null) {
            optionLabels[selectedIndex].classList.add("correct");
          }
        } else {
          if (q.correctIndex != null && optionLabels[q.correctIndex]) {
            optionLabels[q.correctIndex].classList.add("correct");
          }
          if (selectedIndex !== null && optionLabels[selectedIndex]) {
            optionLabels[selectedIndex].classList.add("incorrect");
          }
        }
      });

      const ratio = score / total;
      let message;

      if (ratio === 1) {
        message = "Parfait, tu ma√Ætrises totalement le sujet üëå";
      } else if (ratio >= 0.7) {
        message = "Tr√®s solide ! Il reste quelques d√©tails √† affiner.";
      } else if (ratio >= 0.4) {
        message = "Pas mal, mais relire l‚Äôarticle t‚Äôaidera √† consolider les bases.";
      } else {
        message = "C‚Äôest un bon d√©but, retourne sur l‚Äôarticle puis retente le quiz.";
      }

      quizResult.innerHTML = "<strong>" + score + "/" + total + "</strong> bonnes r√©ponses. " + message;

      if (window.acadGamification) {
        window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);
      }
      if (ratio === 1) {
        quizFeedback.textContent = "üéÆ Bravo ! Quiz parfait, tu contribues au d√©blocage du badge Cyclisme.";
      } else {
        quizFeedback.textContent = "Tu peux recommencer le quiz si tu veux viser le 100 % pour le badge.";
      }
    }

    function resetQuiz() {
      renderQuiz();
    }

    submitBtn.addEventListener("click", evaluateQuiz);
    resetBtn.addEventListener("click", resetQuiz);

    const articleReadBtn = document.getElementById("mark-article-read");
    if (articleReadBtn) {
      articleReadBtn.addEventListener("click", function () {
        if (!window.acadGamification) return;
        window.acadGamification.markArticleRead(ARTICLE_ID, 20);
        articleReadBtn.textContent = "‚úì Article compt√© pour l‚ÄôXP locale";
        articleReadBtn.disabled = true;
      });

      if (window.acadGamification && window.acadGamification.isArticleRead(ARTICLE_ID)) {
        articleReadBtn.textContent = "‚úì Article d√©j√† compt√© pour l‚ÄôXP locale";
        articleReadBtn.disabled = true;
      }
    }

    const shareBtn = document.getElementById("share-article");
    const shareFeedback = document.getElementById("share-feedback");

    if (shareBtn) {
      shareBtn.addEventListener("click", async function () {
        if (window.acadGamification) {
          window.acadGamification.registerShare(ARTICLE_ID, 15);
        }

        const shareData = {
          title: "A-Cad√©mie ‚Äî V√©lo de route ou VTT : que choisir ?",
          text: "Un guide simple + quiz pour choisir entre v√©lo de route et VTT.",
          url: window.location.href
        };

        if (navigator.share) {
          try {
            await navigator.share(shareData);
            if (shareFeedback) {
              shareFeedback.textContent = "Merci pour le partage ! (XP ajout√©e sur cet appareil)";
            }
          } catch (e) {
            if (shareFeedback) {
              shareFeedback.textContent = "Partage annul√©, mais tu peux r√©essayer quand tu veux.";
            }
          }
        } else {
          if (shareFeedback) {
            shareFeedback.textContent = "Le partage automatique n‚Äôest pas disponible sur cet appareil. Tu peux copier l‚Äôadresse dans la barre du navigateur. (XP ajout√©e)";
          }
        }
      });
    }

    renderQuiz();
  </script>
</body>
</html>
