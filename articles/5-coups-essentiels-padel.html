<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-CadÃ©mie â€” Les 5 coups essentiels pour progresser vite au padel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>

<body>
<div class="page">

  <!-- HEADER -->
  <header class="acad-header">
    <a href="../index.html" class="brand" style="text-decoration:none;">
      <div class="brand-logo">A</div>
      <div>
        <div class="brand-text-title">A-CadÃ©mie</div>
        <div class="brand-text-sub">Rackets â€” Padel & Tennis Â· Article + Quiz</div>
      </div>
    </a>

    <nav class="acad-nav">
      <a class="nav-btn" href="../index.html"><span class="dot"></span> Accueil</a>
      <a class="nav-btn primary" href="../articles.html">Articles</a>
      <a class="nav-btn" href="../recompenses.html">RÃ©compenses</a>
    </nav>

    <div id="acad-profile" class="profile-card">
      <div class="profile-main">
        <div class="profile-avatar">ğŸ¾</div>
        <div>
          <div class="profile-level">Niveau <span id="acad-level">1</span></div>
          <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
        </div>
      </div>
      <div class="profile-progress-wrapper">
        <div class="profile-progress-bar">
          <div class="profile-progress-fill" id="acad-xp-bar"></div>
        </div>
        <div class="profile-progress-label">
          <span>Vers niveau <span id="acad-next-level">2</span></span>
          <span id="acad-xp-to-next">0 / 100</span>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="layout">

    <!-- ARTICLE -->
    <article class="article-card">

      <div class="article-meta">
        <span class="tag"><span class="tag-dot"></span> Rackets â€” Padel</span>
        <span class="chip">Lecture : 6â€“7 min</span>
        <span class="chip">Niveau : DÃ©butant / IntermÃ©diaire</span>
      </div>

      <h1 class="article-title">Les 5 coups essentiels pour progresser vite au padel</h1>
      <p class="article-subtitle">
        Pour progresser rapidement au padel, tu nâ€™as pas besoin de 20 coups diffÃ©rents.  
        Voici les 5 fondamentaux qui font vraiment la diffÃ©rence sur un terrain.
      </p>

      <div class="article-highlight">
        <strong>Ã€ retenir :</strong> maÃ®trise ces 5 coups, et tu passeras directement un cap dans ton jeu.
      </div>

      <div class="article-content">

        <h2>1ï¸âƒ£ La volÃ©e (coup le plus important)</h2>
        <p>
          Ã€ lâ€™attaque, tu jouesâ€¦ surtout Ã  la volÃ©e.  
          Câ€™est le coup clÃ© pour gagner le filet et dominer lâ€™Ã©change.
        </p>
        <ul>
          <li>geste court</li>
          <li>prise de balle devant soi</li>
          <li>placement stable</li>
        </ul>
        <p>âœ”ï¸ Objectif : jouer simple, bas, au centre.</p>

        <h2>2ï¸âƒ£ La bandeja (coup signature du padel)</h2>
        <p>
          La bandeja est une volÃ©e aÃ©rienne dÃ©fensive : tu ralentis le jeu et reprends le filet.
        </p>
        <ul>
          <li>prise de balle haute mais contrÃ´lÃ©e</li>
          <li>effet coupÃ©</li>
          <li>atterrissage au fond du court adverse</li>
        </ul>

        <h2>3ï¸âƒ£ Le lob (coup indispensable)</h2>
        <p>
          Le lob met la pression sur les adversaires au filet.  
          Câ€™est le meilleur coup pour respirer et reprendre la zone dâ€™attaque.
        </p>
        <ul>
          <li>montÃ©e balle molle et haute</li>
          <li>viser derriÃ¨re les adversaires</li>
          <li>ne pas chercher la vitesse</li>
        </ul>

        <h2>4ï¸âƒ£ La sortie de vitre</h2>
        <p>
          Lâ€™un des coups les plus â€œpadelâ€.  
          Quand la balle touche la vitre, elle peut devenir trÃ¨s facileâ€¦ ou trÃ¨s dure.
        </p>
        <ul>
          <li>laisser la balle sortir du mur</li>
          <li>se repositionner derriÃ¨re la trajectoire</li>
          <li>frapper tranquille aprÃ¨s le rebond</li>
        </ul>

        <h2>5ï¸âƒ£ Le service Ã  la cuillÃ¨re</h2>
        <p>
          Au padel, le service nâ€™est plus une arme comme au tennisâ€¦  
          mais un bon service te permet de prendre le filet plus vite.
        </p>
        <ul>
          <li>balle frappÃ©e sous la taille</li>
          <li>visÃ©e croisÃ©e = plus simple</li>
          <li>effet coupÃ© pour gÃªner un peu</li>
        </ul>

        <p>
          ğŸ‘‰ MaÃ®trise ces 5 coups, et tu joueras dÃ©jÃ  comme un vrai joueur intermÃ©diaire.
        </p>

      </div>

      <div class="article-footer-note">
        <span class="bullet-pill">ğŸ® Gamification locale</span>
        <span>Lecture, quiz et partage = XP gagnÃ©e sur cet appareil.</span>
      </div>

      <button type="button" class="btn btn-secondary" id="mark-article-read">
        âœ“ Jâ€™ai lu cet article (gagner de lâ€™XP)
      </button>

      <div style="margin-top:12px;">
        <button type="button" class="btn btn-primary" id="share-article">
          ğŸ”— Partager cet article / quiz
        </button>
        <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
      </div>

    </article>


    <!-- QUIZ -->
    <section class="quiz-card" id="quiz-section">

      <div class="quiz-header">
        <div class="quiz-left">
          <div class="quiz-title">Quiz express : Les 5 coups</div>
          <div class="quiz-caption">Valide ta comprÃ©hension des fondamentaux du padel.</div>
        </div>
        <div class="quiz-badge">âš¡ 5 questions Â· 3 min</div>
      </div>

      <div class="quiz-progress" id="quiz-progress">Question 1 sur 5</div>
      <form id="quiz-form"></form>

      <div class="quiz-footer">
        <div class="quiz-actions">
          <button type="button" class="btn btn-primary" id="quiz-submit">
            Valider mes rÃ©ponses
          </button>
          <button type="button" class="btn btn-secondary" id="quiz-reset">
            Recommencer le quiz
          </button>
        </div>
        <div class="quiz-result" id="quiz-result">
          RÃ©ponds aux questions puis valide pour voir ton score.
        </div>
      </div>

      <div class="quiz-feedback" id="quiz-feedback"></div>
    </section>

  </main>
</div>

<!-- SCRIPTS -->
<script src="../js/acad-gamification.js"></script>
<script src="../js/acad-firebase-sync.js"></script>

<script>
const ARTICLE_ID = "5-coups-essentiels-padel";

const quizData = [
  {
    id: 1,
    question: "Quel est le coup le plus utilisÃ© pour dominer au filet ?",
    options: ["Le smash", "La volÃ©e", "Le lob", "La sortie de vitre"],
    correctIndex: 1
  },
  {
    id: 2,
    question: "La bandeja est :",
    options: [
      "Un smash trÃ¨s puissant",
      "Un service particulier",
      "Une volÃ©e aÃ©rienne contrÃ´lÃ©e",
      "Un coup interdit"
    ],
    correctIndex: 2
  },
  {
    id: 3,
    question: "Quel coup permet de reprendre l'avantage quand on dÃ©fend ?",
    options: ["La volÃ©e", "Le lob", "Le smash", "La bandeja"],
    correctIndex: 1
  },
  {
    id: 4,
    question: "Pour rÃ©ussir une sortie de vitre :",
    options: [
      "Il faut frapper la balle avant que la vitre ne la touche",
      "Il faut laisser la balle sortir et se repositionner",
      "Il faut courir vers le filet",
      "Il faut frapper fort sans rÃ©flÃ©chir"
    ],
    correctIndex: 1
  },
  {
    id: 5,
    question: "Au padel, le service :",
    options: [
      "Se fait comme au tennis, par-dessus la tÃªte",
      "Nâ€™a aucune importance",
      "Se fait sous la taille aprÃ¨s un rebond",
      "Doit Ãªtre frappÃ© contre le mur d'abord"
    ],
    correctIndex: 2
  }
];

const quizForm = document.getElementById("quiz-form");
const quizProgress = document.getElementById("quiz-progress");
const quizResult = document.getElementById("quiz-result");
const quizFeedback = document.getElementById("quiz-feedback");
const submitBtn = document.getElementById("quiz-submit");
const resetBtn = document.getElementById("quiz-reset");

function renderQuiz() {
  quizForm.innerHTML = "";
  quizData.forEach((q, index) => {
    const div = document.createElement("div");
    div.className = "quiz-question";
    div.dataset.questionId = q.id;

    div.innerHTML = `
      <div class="quiz-question-header">
        <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
        <div class="quiz-question-meta">1 seule bonne rÃ©ponse</div>
      </div>
      <div class="quiz-options">
        ${q.options.map(
          (opt, i) => `
        <label class="quiz-option">
          <input type="radio" name="question-${q.id}" value="${i}">
          <span>${opt}</span>
        </label>`
        ).join("")}
      </div>
    `;

    quizForm.appendChild(div);
  });

  quizProgress.textContent = "Question 1 sur " + quizData.length;
  quizResult.textContent = "RÃ©ponds aux questions puis valide pour voir ton score.";
  quizFeedback.textContent = "";
}

function updateProgress() {
  const answered = quizData.filter(q =>
    [...document.querySelectorAll(`input[name="question-${q.id}"]`)]
      .some(r => r.checked)
  ).length;

  quizProgress.textContent = `Question ${answered || 1} sur ${quizData.length}`;
}

quizForm.addEventListener("change", updateProgress);

function evaluateQuiz() {
  let score = 0;

  document.querySelectorAll(".quiz-option").forEach(opt =>
    opt.classList.remove("correct", "incorrect")
  );

  quizData.forEach(q => {
    const radios = document.querySelectorAll(`input[name="question-${q.id}"]`);
    let selected = null;
    radios.forEach((r, i) => { if (r.checked) selected = i; });

    const block = document.querySelector(`.quiz-question[data-question-id="${q.id}"]`);
    const opts = block.querySelectorAll(".quiz-option");

    if (selected === q.correctIndex) {
      score++;
      opts[selected]?.classList.add("correct");
    } else {
      opts[q.correctIndex]?.classList.add("correct");
      if (selected !== null) opts[selected]?.classList.add("incorrect");
    }
  });

  const total = quizData.length;
  let msg =
    score === 5
      ? "Excellent ! Tu maÃ®trises les fondamentaux ğŸ¾"
      : score >= 3
      ? "TrÃ¨s bon score, continue !"
      : "Relis lâ€™article puis retente.";

  quizResult.innerHTML = `<strong>${score}/${total}</strong> bonnes rÃ©ponses â€¢ ${msg}`;

  if (window.acadGamification)
    window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);

  quizFeedback.textContent =
    score === 5 ? "ğŸ® Bravo ! XP bonus ajoutÃ©e." : "Tu peux viser le perfect !";
}

submitBtn.addEventListener("click", evaluateQuiz);
resetBtn.addEventListener("click", renderQuiz);

const readBtn = document.getElementById("mark-article-read");
if (readBtn) {
  readBtn.addEventListener("click", () => {
    if (window.acadGamification)
      window.acadGamification.markArticleRead(ARTICLE_ID, 20);

    readBtn.textContent = "âœ“ Article comptÃ© pour lâ€™XP locale";
    readBtn.disabled = true;
  });
}

const shareBtn = document.getElementById("share-article");
const shareFeedback = document.getElementById("share-feedback");

if (shareBtn) {
  shareBtn.addEventListener("click", async () => {
    if (window.acadGamification)
      window.acadGamification.registerShare(ARTICLE_ID, 15);

    const data = {
      title: "A-CadÃ©mie â€” Les 5 coups essentiels au padel",
      text: "VolÃ©e, bandeja, lob : les 5 coups indispensables + quiz.",
      url: window.location.href
    };

    if (navigator.share) {
      try {
        await navigator.share(data);
        shareFeedback.textContent = "Merci pour le partage ! (XP ajoutÃ©e)";
      } catch {
        shareFeedback.textContent = "Partage annulÃ©.";
      }
    } else {
      shareFeedback.textContent = "Le partage automatique nâ€™est pas disponible.";
    }
  });
}

renderQuiz();
</script>

</body>
</html>
