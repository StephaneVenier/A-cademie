<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-CadÃ©mie â€” MatÃ©riel padel : ce quâ€™il faut vraiment acheter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>

<body>
<div class="page">

  <!-- HEADER -->
  <header class="acad-header">
    <a href="../index.html" class="brand" style="text-decoration:none;">
      <div class="brand-logo">A</div>
      <div>
        <div class="brand-text-title">A-CadÃ©mie</div>
        <div class="brand-text-sub">Rackets â€” Padel Â· Article + Quiz</div>
      </div>
    </a>

    <nav class="acad-nav">
      <a class="nav-btn" href="../index.html"><span class="dot"></span> Accueil</a>
      <a class="nav-btn primary" href="../articles.html">Articles</a>
      <a class="nav-btn" href="../recompenses.html">RÃ©compenses</a>
    </nav>

    <div id="acad-profile" class="profile-card">
      <div class="profile-main">
        <div class="profile-avatar">ğŸ¾</div>
        <div>
          <div class="profile-level">Niveau <span id="acad-level">1</span></div>
          <div class="profile-xp"><span id="acad-xp">0</span> XP locale</div>
        </div>
      </div>
      <div class="profile-progress-wrapper">
        <div class="profile-progress-bar">
          <div class="profile-progress-fill" id="acad-xp-bar"></div>
        </div>
        <div class="profile-progress-label">
          <span>Vers niveau <span id="acad-next-level">2</span></span>
          <span id="acad-xp-to-next">0 / 100</span>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="layout">

    <!-- ARTICLE -->
    <article class="article-card">

      <div class="article-meta">
        <span class="tag"><span class="tag-dot"></span> Rackets â€” Padel</span>
        <span class="chip">Lecture : 6 min</span>
        <span class="chip">Niveau : DÃ©butant / IntermÃ©diaire</span>
      </div>

      <h1 class="article-title">MatÃ©riel padel : ce quâ€™il faut vraiment acheter</h1>
      <p class="article-subtitle">
        Quand on dÃ©bute, on se demande toujours quoi acheter : raquette ? balles ? chaussures ?  
        Voici la liste des Ã©quipements rÃ©ellement utiles â€” et ceux que tu peux Ã©viter.
      </p>

      <div class="article-highlight">
        <strong>Ã€ retenir :</strong> 80% du matÃ©riel est inutile au dÃ©but.  
        Lâ€™essentiel = raquette adaptÃ©e + bonnes chaussures + balles correctes.
      </div>

      <div class="article-content">

        <h2>1ï¸âƒ£ La raquette : lâ€™achat le plus important</h2>
        <p>
          Une bonne raquette de padel amÃ©liore immÃ©diatement ton confort et ton contrÃ´le.
        </p>

        <h3>Pour dÃ©butant â†’ forme ronde</h3>
        <ul>
          <li>grand sweet spot</li>
          <li>maniable</li>
          <li>tolÃ©rante sur les erreurs</li>
        </ul>

        <h3>Budget conseillÃ© :</h3>
        <ul>
          <li>entre <strong>60 â‚¬ et 120 â‚¬</strong> pour dÃ©buter sÃ©rieusement</li>
          <li>Ã©vite les modÃ¨les Ã  25 â‚¬ : lourds, rigides, peu confortables</li>
        </ul>

        <h2>2ï¸âƒ£ Des chaussures adaptÃ©es (trÃ¨s important)</h2>
        <p>
          Beaucoup de joueurs dÃ©butent avec des chaussures de running â†’ mauvaise idÃ©e.
        </p>

        <h3>Pourquoi ?</h3>
        <ul>
          <li>mauvaise stabilitÃ© latÃ©rale</li>
          <li>risque de glissade</li>
          <li>pas de maintien sur les appuis</li>
        </ul>

        <h3>Prends des chaussures :</h3>
        <ul>
          <li>de tennis</li>
          <li>ou padel spÃ©cifiques</li>
        </ul>

        <p>
          ğŸ‘‰ Câ€™est probablement lâ€™achat qui Ã©vite le plus de blessures.
        </p>

        <h2>3ï¸âƒ£ Les balles de padel</h2>
        <p>
          Oui, elles ressemblent aux balles de tennis, mais elles sont plus souples.
        </p>

        <h3>Ã€ savoir :</h3>
        <ul>
          <li>un tube = 6â€“10 â‚¬</li>
          <li>durent 2 Ã  4 sÃ©ances selon ton niveau</li>
        </ul>

        <h2>4ï¸âƒ£ Les grips / surgrips</h2>
        <p>
          Simple mais essentiel.
        </p>
        <ul>
          <li>amÃ©liore la prise en main</li>
          <li>Ã©vite que la raquette glisse</li>
          <li>coÃ»t trÃ¨s faible (1 â‚¬ chacun)</li>
        </ul>

        <h2>5ï¸âƒ£ Les accessoires utiles</h2>

        <h3>RecommandÃ©s :</h3>
        <ul>
          <li>bandes anti-vibrations / protection cadre</li>
          <li>petit sac padel</li>
          <li>serviette + bouteille dâ€™eau</li>
        </ul>

        <h3>Pas indispensables :</h3>
        <ul>
          <li>chapeaux â€œproâ€  
          <li>chaussures haut de gamme (attend dâ€™avoir de lâ€™expÃ©rience)</li>
          <li>raquettes trÃ¨s chÃ¨res (200â€“300 â‚¬ inutile au dÃ©but)</li>
        </ul>

        <h2>6ï¸âƒ£ Le budget global recommandÃ©</h2>
        <p>Pour dÃ©buter confortablement :</p>
        <ul>
          <li>Raquette : 70â€“120 â‚¬</li>
          <li>Chaussures : 50â€“100 â‚¬</li>
          <li>Balles : 6â€“10 â‚¬</li>
          <li>Grips : 5 â‚¬</li>
        </ul>

        <p>
          ğŸ‘‰ Total : <strong>130â€“220 â‚¬</strong> maximum pour Ãªtre bien Ã©quipÃ©.
        </p>

      </div>

      <div class="article-footer-note">
        <span class="bullet-pill">ğŸ® Gamification locale</span>
        <span>Lecture, quiz et partage = XP gagnÃ©e sur cet appareil.</span>
      </div>

      <button type="button" class="btn btn-secondary" id="mark-article-read">
        âœ“ Jâ€™ai lu cet article (gagner de lâ€™XP)
      </button>

      <div style="margin-top:12px;">
        <button type="button" class="btn btn-primary" id="share-article">
          ğŸ”— Partager cet article / quiz
        </button>
        <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
      </div>

    </article>


    <!-- QUIZ -->
    <section class="quiz-card" id="quiz-section">

      <div class="quiz-header">
        <div class="quiz-left">
          <div class="quiz-title">Quiz express : MatÃ©riel padel</div>
          <div class="quiz-caption">5 questions pour vÃ©rifier que tu sais vraiment quoi acheter.</div>
        </div>
        <div class="quiz-badge">âš¡ 5 questions Â· 3 min</div>
      </div>

      <div class="quiz-progress" id="quiz-progress">Question 1 sur 5</div>
      <form id="quiz-form"></form>

      <div class="quiz-footer">
        <div class="quiz-actions">
          <button type="button" class="btn btn-primary" id="quiz-submit">
            Valider mes rÃ©ponses
          </button>
          <button type="button" class="btn btn-secondary" id="quiz-reset">
            Recommencer le quiz
          </button>
        </div>
        <div class="quiz-result" id="quiz-result">
          RÃ©ponds aux questions puis valide pour voir ton score.
        </div>
      </div>

      <div class="quiz-feedback" id="quiz-feedback"></div>
    </section>

  </main>
</div>

<!-- GAMIFICATION SCRIPTS -->
<script src="../js/acad-gamification.js"></script>
<script src="../js/acad-firebase-sync.js"></script>

<script>
const ARTICLE_ID = "materiel-padel-essentiel";

const quizData = [
  {
    id: 1,
    question: "Quelle est la meilleure forme de raquette pour dÃ©buter ?",
    options: ["Diamant", "Goutte dâ€™eau", "Ronde", "CarrÃ©e"],
    correctIndex: 2
  },
  {
    id: 2,
    question: "Pourquoi Ã©viter les chaussures de running au padel ?",
    options: [
      "Elles glissent et manquent de stabilitÃ© latÃ©rale",
      "Elles sont trop lourdes",
      "Elles abÃ®ment les terrains",
      "Elles sont interdites"
    ],
    correctIndex: 0
  },
  {
    id: 3,
    question: "Ã€ quoi sert le surgrip ?",
    options: [
      "Ã€ augmenter la puissance",
      "Ã€ mieux tenir la raquette",
      "Ã€ rendre la balle plus lente",
      "Ã€ frapper plus fort"
    ],
    correctIndex: 1
  },
  {
    id: 4,
    question: "Quel budget raisonnable pour une raquette dÃ©butant/intermÃ©diaire ?",
    options: ["20â€“40 â‚¬", "60â€“120 â‚¬", "200â€“300 â‚¬", "300â€“500 â‚¬"],
    correctIndex: 1
  },
  {
    id: 5,
    question: "Quel est le total rÃ©aliste pour dÃ©buter correctement en padel ?",
    options: [
      "50 â‚¬",
      "100 â‚¬",
      "130â€“220 â‚¬",
      "500 â‚¬ minimum"
    ],
    correctIndex: 2
  }
];

const quizForm = document.getElementById("quiz-form");
const quizProgress = document.getElementById("quiz-progress");
const quizResult = document.getElementById("quiz-result");
const quizFeedback = document.getElementById("quiz-feedback");
const submitBtn = document.getElementById("quiz-submit");
const resetBtn = document.getElementById("quiz-reset");

function renderQuiz() {
  quizForm.innerHTML = "";
  quizData.forEach((q, index) => {
    const div = document.createElement("div");
    div.className = "quiz-question";
    div.dataset.questionId = q.id;

    div.innerHTML = `
      <div class="quiz-question-header">
        <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
        <div class="quiz-question-meta">1 seule bonne rÃ©ponse</div>
      </div>
      <div class="quiz-options">
        ${q.options
          .map(
            (opt, i) => `
        <label class="quiz-option">
          <input type="radio" name="question-${q.id}" value="${i}">
          <span>${opt}</span>
        </label>`
          )
          .join("")}
      </div>
    `;

    quizForm.appendChild(div);
  });

  quizProgress.textContent = "Question 1 sur " + quizData.length;
  quizResult.textContent =
    "RÃ©ponds aux questions puis valide pour voir ton score.";
  quizFeedback.textContent = "";
}

function updateProgress() {
  const answered = quizData.filter((q) =>
    [...document.querySelectorAll(`input[name="question-${q.id}"]`)].some(
      (r) => r.checked
    )
  ).length;

  quizProgress.textContent = `Question ${answered || 1} sur ${quizData.length}`;
}

quizForm.addEventListener("change", updateProgress);

function evaluateQuiz() {
  let score = 0;

  document
    .querySelectorAll(".quiz-option")
    .forEach((opt) => opt.classList.remove("correct", "incorrect"));

  quizData.forEach((q) => {
    const radios = document.querySelectorAll(
      `input[name="question-${q.id}"]`
    );
    let selected = null;
    radios.forEach((r, i) => {
      if (r.checked) selected = i;
    });

    const block = document.querySelector(
      `.quiz-question[data-question-id="${q.id}"]`
    );
    const opts = block.querySelectorAll(".quiz-option");

    if (selected === q.correctIndex) {
      score++;
      opts[selected]?.classList.add("correct");
    } else {
      opts[q.correctIndex]?.classList.add("correct");
      if (selected !== null) opts[selected]?.classList.add("incorrect");
    }
  });

  const total = quizData.length;
  const ratio = score / total;

  let msg =
    ratio === 1
      ? "Excellent ! Tu sais exactement quoi acheter ğŸ¾"
      : ratio >= 0.7
      ? "TrÃ¨s bon score !"
      : ratio >= 0.4
      ? "Pas mal, mais relis lâ€™article."
      : "Relis lâ€™article attentivement puis retente.";

  quizResult.innerHTML = `<strong>${score}/${total}</strong> bonnes rÃ©ponses â€¢ ${msg}`;

  if (window.acadGamification)
    window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);

  quizFeedback.textContent =
    ratio === 1
      ? "ğŸ® Bravo ! XP bonus ajoutÃ©e."
      : "Tu peux viser le perfect !";
}

submitBtn.addEventListener("click", evaluateQuiz);
resetBtn.addEventListener("click", renderQuiz);

const readBtn = document.getElementById("mark-article-read");
if (readBtn) {
  readBtn.addEventListener("click", () => {
    if (window.acadGamification)
      window.acadGamification.markArticleRead(ARTICLE_ID, 20);

    readBtn.textContent = "âœ“ Article comptÃ© pour lâ€™XP locale";
    readBtn.disabled = true;
  });
}

const shareBtn = document.getElementById("share-article");
const shareFeedback = document.getElementById("share-feedback");

if (shareBtn) {
  shareBtn.addEventListener("click", async () => {
    if (window.acadGamification)
      window.acadGamification.registerShare(ARTICLE_ID, 15);

    const data = {
      title: "A-CadÃ©mie â€” MatÃ©riel padel",
      text: "Le matÃ©riel essentiel pour commencer le padel + quiz.",
      url: window.location.href,
    };

    if (navigator.share) {
      try {
        await navigator.share(data);
        shareFeedback.textContent =
          "Merci pour le partage ! (XP ajoutÃ©e)";
      } catch {
        shareFeedback.textContent = "Partage annulÃ©.";
      }
    } else {
      shareFeedback.textContent =
        "Le partage automatique nâ€™est pas disponible.";
    }
  });
}

renderQuiz();
</script>
</body>
</html>
