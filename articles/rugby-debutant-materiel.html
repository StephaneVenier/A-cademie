<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>A-Cad√©mie ‚Äî Rugby d√©butant : le mat√©riel essentiel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/acad-style.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../js/firebase-config.js"></script>
</head>
<body>
  <div class="page">
    <header class="acad-header">
      <a href="../index.html" class="brand" style="text-decoration:none;">
        <div class="brand-logo">A</div>
        <div>
          <div class="brand-text-title">A-Cad√©mie</div>
          <div class="brand-text-sub">Articles & quiz sportifs en libre acc√®s</div>
        </div>
      </a>

      <nav class="acad-nav">
        <a class="nav-btn" href="../index.html"><span class="dot"></span> Accueil</a>
        <a class="nav-btn primary" href="../articles.html">Articles</a>
        <a class="nav-btn" href="../recompenses.html">R√©compenses</a>
      </nav>

      <div id="acad-profile" class="profile-card">
        <div class="profile-main">
          <div class="profile-avatar">A</div>
          <div>
            <div class="profile-level">Niveau <span id="acad-level">1</span></div>
            <div class="profile-xp">
              <span id="acad-xp">0</span> XP locale
            </div>
          </div>
        </div>
        <div class="profile-progress-wrapper">
          <div class="profile-progress-bar">
            <div class="profile-progress-fill" id="acad-xp-bar"></div>
          </div>
          <div class="profile-progress-label">
            <span>Vers niveau <span id="acad-next-level">2</span></span>
            <span id="acad-xp-to-next">0 / 100</span>
          </div>
        </div>
      </div>
    </header>

    <main class="layout">
      <article class="article-card">
        <div class="article-meta">
          <span class="tag"><span class="tag-dot"></span> Rugby d√©butant</span>
          <span class="chip">Lecture : 6 min</span>
          <span class="chip">Niveau : D√©butant</span>
        </div>

        <h1 class="article-title">Rugby d√©butant : le mat√©riel essentiel</h1>
        <p class="article-subtitle">
          Tu d√©marres le rugby ou tu inscris un enfant pour la premi√®re fois ?  
          Voici l‚Äôessentiel du mat√©riel √† pr√©voir pour jouer en s√©curit√© et dans le confort, sans exploser ton budget.
        </p>

        <div class="article-highlight">
          <strong>√Ä retenir :</strong> au rugby, le bon mat√©riel, ce n‚Äôest pas pour ‚Äúfaire pro‚Äù : c‚Äôest surtout pour prot√©ger le corps,
          √©viter les petites blessures inutiles et se sentir √† l‚Äôaise sur le terrain.
        </div>

        <div class="article-content">
          <h2>1. Les basiques absolument indispensables</h2>
          <p>Pour commencer √† l‚Äôentra√Ænement, tu n‚Äôas pas besoin de tout un arsenal. Les vrais indispensables sont :</p>
          <ul>
            <li>
              <strong>Chaussures √† crampons adapt√©es :</strong> crampons moul√©s pour terrain naturel ou synth√©tique.
              Elles garantissent l‚Äôadh√©rence au sol et limitent les glissades.
            </li>
            <li>
              <strong>Short de rugby :</strong> r√©sistant, un peu plus √©pais qu‚Äôun short de foot, con√ßu pour les contacts et les plaquages.
            </li>
            <li>
              <strong>Maillot ou t-shirt solide :</strong> id√©alement en mati√®re respirante, pr√®s du corps pour √©viter qu‚Äôon s‚Äôy accroche facilement.
            </li>
            <li>
              <strong>Prot√®ge-dents :</strong> obligatoire dans la plupart des clubs, pour prot√©ger les dents et limiter les chocs √† la m√¢choire.
            </li>
            <li>
              <strong>Chaussettes hautes :</strong> qui montent jusqu‚Äôen dessous du genou, pour tenir les protections au besoin.
            </li>
          </ul>

          <h2>2. Zoom sur le prot√®ge-dents : comment bien le choisir ?</h2>
          <p>Le prot√®ge-dents est souvent le premier achat ‚Äús√©rieux‚Äù en rugby. Quelques rep√®res :</p>
          <ul>
            <li><strong>Taille :</strong> enfant, junior ou adulte selon l‚Äô√¢ge et la dentition.</li>
            <li><strong>Mod√®le thermoformable :</strong> on le plonge dans l‚Äôeau chaude puis on le moule sur ses dents.</li>
            <li><strong>Confort :</strong> on doit pouvoir respirer et parler avec, sans avoir envie de le retirer toutes les 2 minutes.</li>
          </ul>
          <p>
            Un prot√®ge-dents bien ajust√©, c‚Äôest <strong>plus de s√©curit√©</strong> et beaucoup moins de g√™ne pendant le jeu.
          </p>

          <h2>3. Protections optionnelles mais tr√®s utiles</h2>
          <p>En fonction de l‚Äô√¢ge, du poste et du niveau, certaines protections peuvent √™tre ajout√©es :</p>
          <ul>
            <li>
              <strong>Casque de rugby (coiffe) :</strong> prot√®ge surtout des petits chocs et des frottements (oreilles, cr√¢ne).
              Tr√®s utilis√© chez les jeunes ou les joueurs de poste expos√© (avants).
            </li>
            <li>
              <strong>Sous-maillot ou plastron avec plaques de mousse :</strong> amortit l√©g√®rement les contacts au niveau des √©paules, des c√¥tes, du dos.
            </li>
            <li>
              <strong>Prot√®ge-tibias ou chevilles :</strong> moins fr√©quents qu‚Äôau foot, mais utiles en cas d‚Äôhistorique de blessures ou de fragilit√©s.
            </li>
          </ul>
          <p>
            Ces √©quipements restent <strong>optionnels</strong> : le plus important, c‚Äôest le prot√®ge-dents et les chaussures adapt√©es.
          </p>

          <h2>4. Tenue d‚Äôentra√Ænement vs tenue de match</h2>
          <p>En g√©n√©ral :</p>
          <ul>
            <li>
              <strong>√Ä l‚Äôentra√Ænement :</strong> tu peux utiliser ton propre short, t-shirt et chaussettes, tant que le tout est solide et confortable.
            </li>
            <li>
              <strong>En match :</strong> le club fournit souvent le maillot (et parfois le short et les chaussettes), pour avoir une tenue uniforme.
            </li>
          </ul>
          <p>
            Renseigne-toi aupr√®s du club :  
            <strong>certains packs de licence incluent d√©j√† une partie de la tenue</strong> (maillot d‚Äôentra√Ænement, short, etc.).
          </p>

          <h2>5. Mat√©riel utile autour de la pratique</h2>
          <ul>
            <li><strong>Gourde ou bouteille d‚Äôeau personnelle :</strong> pour bien s‚Äôhydrater.</li>
            <li><strong>Sac de sport solide :</strong> pour ranger crampons, v√™tements, serviette.</li>
            <li><strong>V√™tements chauds pour l‚Äôapr√®s-entra√Ænement :</strong> surv√™tement, veste, bonnet en hiver.</li>
            <li><strong>Serviette + n√©cessaire de douche :</strong> pratique si les vestiaires sont disponibles.</li>
          </ul>

          <h2>6. Budget : comment s‚Äô√©quiper sans trop d√©penser ?</h2>
          <p>Bonne nouvelle : il est possible de d√©marrer sans tout acheter en haut de gamme.</p>
          <ul>
            <li>Commencer avec des mod√®les de base et compl√©ter au fur et √† mesure.</li>
            <li>Profiter des fins de s√©rie ou promotions des magasins de sport.</li>
            <li>Voir avec le club s‚Äôil existe un syst√®me d‚Äô√©change ou de revente d‚Äôoccasion.</li>
          </ul>
          <p>
            L‚Äôid√©e : <strong>s√©curiser en priorit√©</strong> (prot√®ge-dents, crampons corrects), puis optimiser le confort au fil du temps.
          </p>

          <h2>7. Erreurs fr√©quentes chez les d√©butants</h2>

          <h3>Erreur 1 : venir en baskets de ville</h3>
          <p>
            Les baskets glissent sur terrain humide, tordent facilement la cheville et ne tiennent pas bien le pied.
          </p>
          <p><strong>Mieux :</strong> d√®s que possible, investir dans une paire de crampons adapt√©s.</p>

          <h3>Erreur 2 : n√©gliger le prot√®ge-dents</h3>
          <p>
            Jouer sans prot√®ge-dents, m√™me √† l‚Äôentra√Ænement, augmente le risque de choc dentaire et de mauvaise exp√©rience d√®s les premiers contacts.
          </p>
          <p><strong>Mieux :</strong> le porter √† chaque s√©ance de contact, et s‚Äôhabituer √† respirer avec.</p>

          <h3>Erreur 3 : tout acheter en ‚Äúfull pro‚Äù d√®s le d√©but</h3>
          <p>
            Inutile de se ruiner dans le mat√©riel le plus cher alors qu‚Äôon d√©couvre √† peine le sport.  
          </p>
          <p><strong>Mieux :</strong> tester quelques mois, ajuster ensuite selon le poste, l‚Äôenvie et la fr√©quence de pratique.</p>

          <h2>8. En r√©sum√©</h2>
          <p>
            Pour d√©marrer le rugby dans de bonnes conditions, tu as surtout besoin de :
          </p>
          <ul>
            <li>chaussures √† crampons adapt√©es au terrain ;</li>
            <li>short solide, maillot correct, chaussettes hautes ;</li>
            <li>prot√®ge-dents bien ajust√© ;</li>
            <li>et √©ventuellement quelques protections suppl√©mentaires selon ton ressenti.</li>
          </ul>
          <p>
            Le plus important reste l‚Äôenvie de jouer, d‚Äôapprendre et de respecter les r√®gles de s√©curit√©.  
            Le mat√©riel est l√† pour t‚Äôaider √† profiter pleinement de chaque entra√Ænement.
          </p>
        </div>

        <div class="article-footer-note">
          <span class="bullet-pill">üéÆ Gamification locale</span>
          <span>Lecture, quiz et partage de cet article te donnent de l‚ÄôXP sur cet appareil.</span>
        </div>

        <button type="button" class="btn btn-secondary" id="mark-article-read">
          ‚úì J‚Äôai lu cet article (gagner de l‚ÄôXP)
        </button>

        <div style="margin-top:12px;">
          <button type="button" class="btn btn-primary" id="share-article">
            üîó Partager cet article / quiz
          </button>
          <div id="share-feedback" style="font-size:12px;color:var(--text-soft);margin-top:4px;"></div>
        </div>
      </article>

      <section class="quiz-card" id="quiz-section">
        <div class="quiz-header">
          <div class="quiz-left">
            <div class="quiz-title">Quiz express : mat√©riel de rugby d√©butant</div>
            <div class="quiz-caption">5 questions pour v√©rifier si les bases sont claires.</div>
          </div>
          <div class="quiz-badge">üèâ 5 questions ¬∑ 3‚Äì4 min</div>
        </div>

        <div class="quiz-progress" id="quiz-progress">
          Question 1 sur 5
        </div>

        <form id="quiz-form"></form>

        <div class="quiz-footer">
          <div class="quiz-actions">
            <button type="button" class="btn btn-primary" id="quiz-submit">
              Valider mes r√©ponses
            </button>
            <button type="button" class="btn btn-secondary" id="quiz-reset">
              Recommencer le quiz
            </button>
          </div>
          <div class="quiz-result" id="quiz-result">
            R√©ponds aux questions puis valide pour voir ton score.
          </div>
        </div>

        <div class="quiz-feedback" id="quiz-feedback"></div>
      </section>
    </main>
  </div>

  <script src="../js/acad-gamification.js"></script>
  <script src="../js/acad-firebase-sync.js"></script>
  <script>
    const ARTICLE_ID = "rugby-debutant-materiel";

    const quizData = [
      {
        id: 1,
        question: "Quel √©l√©ment fait partie du mat√©riel vraiment indispensable pour d√©buter le rugby ?",
        options: [
          "Gants de gardien",
          "Prot√®ge-dents et chaussures √† crampons",
          "Casque int√©gral",
          "Bandes de boxe"
        ],
        correctIndex: 1
      },
      {
        id: 2,
        question: "√Ä quoi sert principalement le prot√®ge-dents ?",
        options: [
          "√Ä mieux respirer",
          "√Ä prot√©ger les dents et la m√¢choire lors des contacts",
          "√Ä parler plus fort",
          "√Ä am√©liorer la vitesse de course"
        ],
        correctIndex: 1
      },
      {
        id: 3,
        question: "Quel type de chaussures est d√©conseill√© pour jouer au rugby ?",
        options: [
          "Chaussures √† crampons moul√©s",
          "Chaussures sp√©cifiques terrain synth√©tique",
          "Baskets de ville ou de running sur terrain gras",
          "Chaussures de rugby de base"
        ],
        correctIndex: 2
      },
      {
        id: 4,
        question: "Que faire si tu d√©marres et que tu ne veux pas trop d√©penser au d√©but ?",
        options: [
          "Acheter tout de suite le mat√©riel le plus cher",
          "Commencer avec du mat√©riel de base et compl√©ter petit √† petit",
          "Jouer sans chaussures",
          "Venir sans prot√®ge-dents pour voir si √ßa te pla√Æt"
        ],
        correctIndex: 1
      },
      {
        id: 5,
        question: "Quelle affirmation est correcte ?",
        options: [
          "Le casque de rugby est obligatoire pour tous",
          "Le prot√®ge-dents est fortement recommand√©, m√™me √† l‚Äôentra√Ænement",
          "Les crampons sont interdits chez les jeunes",
          "On peut jouer en jean si on veut"
        ],
        correctIndex: 1
      }
    ];

    const quizForm = document.getElementById("quiz-form");
    const quizProgress = document.getElementById("quiz-progress");
    const quizResult = document.getElementById("quiz-result");
    const quizFeedback = document.getElementById("quiz-feedback");
    const submitBtn = document.getElementById("quiz-submit");
    const resetBtn = document.getElementById("quiz-reset");

    function renderQuiz() {
      quizForm.innerHTML = "";
      quizData.forEach((q, index) => {
        const questionDiv = document.createElement("div");
        questionDiv.className = "quiz-question";
        questionDiv.dataset.questionId = q.id;

        questionDiv.innerHTML = `
          <div class="quiz-question-header">
            <div class="quiz-question-label">Q${index + 1}. ${q.question}</div>
            <div class="quiz-question-meta">1 seule bonne r√©ponse</div>
          </div>
          <div class="quiz-options">
            ${q.options
              .map(
                (opt, optIndex) => `
              <label class="quiz-option">
                <input type="radio" name="question-${q.id}" value="${optIndex}">
                <span>${opt}</span>
              </label>
            `
              )
              .join("")}
          </div>
        `;

        quizForm.appendChild(questionDiv);
      });

      quizProgress.textContent = "Question 1 sur " + quizData.length;
      quizResult.innerHTML = "R√©ponds aux questions puis valide pour voir ton score.";
      quizFeedback.textContent = "";
    }

    function updateProgress() {
      const total = quizData.length;
      const answered = quizData.filter((q) => {
        const radios = document.querySelectorAll('input[name="question-' + q.id + '"]');
        return Array.from(radios).some((r) => r.checked);
      }).length;

      const current = Math.max(1, answered);
      quizProgress.textContent = "Question " + current + " sur " + total;
    }

    quizForm.addEventListener("change", updateProgress);

    function evaluateQuiz() {
      let score = 0;
      const total = quizData.length;

      document.querySelectorAll(".quiz-option").forEach((opt) => {
        opt.classList.remove("correct", "incorrect");
      });

      quizData.forEach((q) => {
        const radios = document.querySelectorAll('input[name="question-' + q.id + '"]');
        let selectedIndex = null;

        radios.forEach((r, idx) => {
          if (r.checked) selectedIndex = idx;
        });

        const questionDiv = document.querySelector('.quiz-question[data-question-id="' + q.id + '"]');
        const optionLabels = questionDiv.querySelectorAll(".quiz-option");

        if (selectedIndex === q.correctIndex) {
          score++;
          if (selectedIndex !== null) {
            optionLabels[selectedIndex].classList.add("correct");
          }
        } else {
          if (q.correctIndex != null && optionLabels[q.correctIndex]) {
            optionLabels[q.correctIndex].classList.add("correct");
          }
          if (selectedIndex !== null && optionLabels[selectedIndex]) {
            optionLabels[selectedIndex].classList.add("incorrect");
          }
        }
      });

      const ratio = score / total;
      let message;

      if (ratio === 1) {
        message = "Parfait, tu ma√Ætrises totalement le sujet üëå";
      } else if (ratio >= 0.7) {
        message = "Tr√®s solide ! Encore quelques d√©tails √† peaufiner.";
      } else if (ratio >= 0.4) {
        message = "Pas mal, mais relire l‚Äôarticle t‚Äôaidera √† consolider les bases.";
      } else {
        message = "C‚Äôest un bon d√©but, retourne sur l‚Äôarticle puis retente le quiz.";
      }

      quizResult.innerHTML = "<strong>" + score + "/" + total + "</strong> bonnes r√©ponses. " + message;

      if (window.acadGamification) {
        window.acadGamification.registerQuizResult(ARTICLE_ID, score, total);
      }
      if (ratio === 1) {
        quizFeedback.textContent = "üéÆ Bravo ! Quiz parfait, tu contribues au d√©blocage du badge Rugby D√©butant.";
      } else {
        quizFeedback.textContent = "Tu peux recommencer le quiz pour viser le 100 % et le badge.";
      }
    }

    function resetQuiz() {
      renderQuiz();
    }

    submitBtn.addEventListener("click", evaluateQuiz);
    resetBtn.addEventListener("click", resetQuiz);

    const articleReadBtn = document.getElementById("mark-article-read");
    if (articleReadBtn) {
      articleReadBtn.addEventListener("click", function () {
        if (!window.acadGamification) return;
        window.acadGamification.markArticleRead(ARTICLE_ID, 20);
        articleReadBtn.textContent = "‚úì Article compt√© pour l‚ÄôXP locale";
        articleReadBtn.disabled = true;
      });

      if (window.acadGamification && window.acadGamification.isArticleRead(ARTICLE_ID)) {
        articleReadBtn.textContent = "‚úì Article d√©j√† compt√© pour l‚ÄôXP locale";
        articleReadBtn.disabled = true;
      }
    }

    const shareBtn = document.getElementById("share-article");
    const shareFeedback = document.getElementById("share-feedback");

    if (shareBtn) {
      shareBtn.addEventListener("click", async function () {
        if (window.acadGamification) {
          window.acadGamification.registerShare(ARTICLE_ID, 15);
        }

        const shareData = {
          title: "A-Cad√©mie ‚Äî Rugby d√©butant : le mat√©riel essentiel",
          text: "Un guide simple pour s‚Äô√©quiper au rugby sans se tromper + un quiz rapide.",
          url: window.location.href
        };

        if (navigator.share) {
          try {
            await navigator.share(shareData);
            if (shareFeedback) {
              shareFeedback.textContent = "Merci pour le partage ! (XP ajout√©e sur cet appareil)";
            }
          } catch (e) {
            if (shareFeedback) {
              shareFeedback.textContent = "Partage annul√©, mais tu peux r√©essayer plus tard.";
            }
          }
        } else {
          if (shareFeedback) {
            shareFeedback.textContent = "Le partage automatique n‚Äôest pas disponible sur cet appareil. Tu peux copier l‚Äôadresse dans la barre du navigateur. (XP ajout√©e)";
          }
        }
      });
    }

    renderQuiz();
  </script>
</body>
</html>
